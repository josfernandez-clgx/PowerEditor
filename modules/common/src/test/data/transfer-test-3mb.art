(define-rule GuidelineRule-36008-R1-24139-D06-12-2013-T06-43-26 "Retired_PSS_Commitment Base Adjustments; RowNum=1; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100407 00:00[4/7/10 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1641)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25012)))
      ;;;  Category: Citizens
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36008-R1-24139-D06-12-2013-T06-43-26
      :template-id 34092
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "04/07/2010 00:00"
      :rate-adj 1.25
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Construction - Citizens"
      :template-id 34092
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36008-R2-24140-D06-12-2013-T06-43-26 "Retired_PSS_Commitment Base Adjustments; RowNum=2; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20110415 00:00[4/15/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1894)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 26007 26008)))
      ;;;  Category: Amcore 281, Amcore 282
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption &  ~ FLOT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36008-R2-24140-D06-12-2013-T06-43-26
      :template-id 34092
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "04/15/2011 00:00"
      :rate-adj 5.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Construction - Amcore"
      :template-id 34092
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36008-R3-24141-D06-12-2013-T06-43-26 "Retired_PSS_Commitment Base Adjustments; RowNum=3; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100407 00:00[4/7/10 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1641)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100052)))
      ;;;  Category: TX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 30))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36008-R3-24141-D06-12-2013-T06-43-26
      :template-id 34092
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "04/07/2010 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "30 Day Refi Net1_Cashout TX"
      :template-id 34092
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36008-R4-24142-D06-12-2013-T06-43-26 "Retired_PSS_Commitment Base Adjustments; RowNum=4; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100407 00:00[4/7/10 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1641)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & COOP | HR | LR | MR)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 30))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36008-R4-24142-D06-12-2013-T06-43-26
      :template-id 34092
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "04/07/2010 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "30 Day Refi Net1_Refi_Condo Coop"
      :template-id 34092
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36008-R5-24143-D06-12-2013-T06-43-26 "Retired_PSS_Commitment Base Adjustments; RowNum=5; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100407 00:00[4/7/10 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1641)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(>= ?totalloanamount 1000000.01))
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 30))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36008-R5-24143-D06-12-2013-T06-43-26
      :template-id 34092
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "04/07/2010 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "30 Day Refi Net1_Refi_LnAmt > $1M"
      :template-id 34092
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36008-R6-24144-D06-12-2013-T06-43-26 "Retired_PSS_Commitment Base Adjustments; RowNum=6; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100407 00:00[4/7/10 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1641)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 30))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator & Y))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36008-R6-24144-D06-12-2013-T06-43-26
      :template-id 34092
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "04/07/2010 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "30 Day Refi Net1_Refi_Self Employed"
      :template-id 34092
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36008-R7-24145-D06-12-2013-T06-43-26 "Retired_PSS_Commitment Base Adjustments; RowNum=7; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100407 00:00[4/7/10 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1641)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 30))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205836 205837 205839 205840 208883 208884 208885 208886 206089 205841 205843 205845 205847 206084 206085 206086 206087 206088 16585 16587 208260 208261 208262 208263)))
      ;;;  Entity: FH1, FH2, FH3, FH4, FH5, FH6, FH7, FH8, FN0, FN1, FN2, FN3, FN4, FN5, FN6, FN7, FN8, FN9, OC1, OC3, RP1, RP2, RP3, RP4
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36008-R7-24145-D06-12-2013-T06-43-26
      :template-id 34092
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "04/07/2010 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "30 Day Refi Net1_Refi_Products"
      :template-id 34092
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36008-R8-24146-D06-12-2013-T06-43-26 "Retired_PSS_Commitment Base Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100407 00:00[4/7/10 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1641)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100052)))
      ;;;  Category: TX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36008-R8-24146-D06-12-2013-T06-43-26
      :template-id 34092
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "04/07/2010 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Refi Net1_Cashout TX - First Tennessee"
      :template-id 34092
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36008-R9-24147-D06-12-2013-T06-43-26 "Retired_PSS_Commitment Base Adjustments; RowNum=9; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100407 00:00[4/7/10 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1641)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & COOP | HR | LR | MR)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36008-R9-24147-D06-12-2013-T06-43-26
      :template-id 34092
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "04/07/2010 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Refi Net1_Refi_Condo Coop - First Tennessee"
      :template-id 34092
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36008-R10-24148-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100407 00:00[4/7/10 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1641)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(>= ?totalloanamount 1000000.01))
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36008-R10-24148-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "04/07/2010 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Refi Net1_Refi_LnAmt > $1M - First Tennessee"
      :template-id 34092
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36008-R11-24149-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=11; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100407 00:00[4/7/10 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1641)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator & Y))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36008-R11-24149-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "04/07/2010 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Refi Net1_Refi_Self Employed - First Tennessee"
      :template-id 34092
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36008-R12-24150-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=12; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100407 00:00[4/7/10 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1641)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205836 205837 205839 205840 208883 208884 208885 208886 206089 205841 205843 205845 205847 206084 206085 206086 206087 206088 16585 16587 208260 208261 208262 208263)))
      ;;;  Entity: FH1, FH2, FH3, FH4, FH5, FH6, FH7, FH8, FN0, FN1, FN2, FN3, FN4, FN5, FN6, FN7, FN8, FN9, OC1, OC3, RP1, RP2, RP3, RP4
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36008-R12-24150-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "04/07/2010 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Refi Net1_Refi_Products - First Tennessee"
      :template-id 34092
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36748-R1-24151-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=1; Status=Production; EffDate=Production Release 20100407 00:00[4/7/10 12:00 AM]; ExpDate=Production Release 20110506 00:00[5/6/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1642 ?time-slice TS1908)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25012)))
      ;;;  Category: Citizens
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(<= 0.00 ?totalloanamount 417000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36748-R1-24151-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/07/2010 00:00"
      :adjustment-exp-date "05/06/2011 00:00"
      :rate-adj 1.5
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Construction - Citizens_Conforming LnAmt"
      :template-id 34092
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36748-R2-24152-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=2; Status=Production; EffDate=Production Release 20100407 00:00[4/7/10 12:00 AM]; ExpDate=Production Release 20110506 00:00[5/6/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1642 ?time-slice TS1908)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25012)))
      ;;;  Category: Citizens
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(>= ?totalloanamount 417000.01))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36748-R2-24152-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/07/2010 00:00"
      :adjustment-exp-date "05/06/2011 00:00"
      :rate-adj 2.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Construction - Citizens_Jumbo LnAmt"
      :template-id 34092
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36748-R4-24153-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=4; Status=Production; EffDate=Production Release 20100407 00:00[4/7/10 12:00 AM]; ExpDate=Production Release 20110415 00:00[4/15/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1642 ?time-slice TS1894)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100052)))
      ;;;  Category: TX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 30))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36748-R4-24153-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/07/2010 00:00"
      :adjustment-exp-date "04/15/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "30 Day Refi Net1_Cashout TX"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36748-R5-24154-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=5; Status=Production; EffDate=Production Release 20100407 00:00[4/7/10 12:00 AM]; ExpDate=Production Release 20110415 00:00[4/15/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1642 ?time-slice TS1894)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & COOP | HR | LR | MR)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 30))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36748-R5-24154-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/07/2010 00:00"
      :adjustment-exp-date "04/15/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "30 Day Refi Net1_Refi_Condo Coop"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36748-R6-24155-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=6; Status=Production; EffDate=Production Release 20100407 00:00[4/7/10 12:00 AM]; ExpDate=Production Release 20110415 00:00[4/15/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1642 ?time-slice TS1894)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(>= ?totalloanamount 1000000.01))
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 30))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36748-R6-24155-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/07/2010 00:00"
      :adjustment-exp-date "04/15/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "30 Day Refi Net1_Refi_LnAmt > $1M"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36748-R7-24156-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=7; Status=Production; EffDate=Production Release 20100407 00:00[4/7/10 12:00 AM]; ExpDate=Production Release 20110415 00:00[4/15/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1642 ?time-slice TS1894)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 30))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator & Y))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36748-R7-24156-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/07/2010 00:00"
      :adjustment-exp-date "04/15/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "30 Day Refi Net1_Refi_Self Employed"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36748-R8-24157-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20100407 00:00[4/7/10 12:00 AM]; ExpDate=Production Release 20110415 00:00[4/15/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1642 ?time-slice TS1894)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 30))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205836 205837 205839 205840 208883 208884 208885 208886 206089 205841 205843 205845 205847 206084 206085 206086 206087 206088 16585 16587 208260 208261 208262 208263)))
      ;;;  Entity: FH1, FH2, FH3, FH4, FH5, FH6, FH7, FH8, FN0, FN1, FN2, FN3, FN4, FN5, FN6, FN7, FN8, FN9, OC1, OC3, RP1, RP2, RP3, RP4
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36748-R8-24157-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/07/2010 00:00"
      :adjustment-exp-date "04/15/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "30 Day Refi Net1_Refi_Products"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36748-R9-24158-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=9; Status=Production; EffDate=Production Release 20100407 00:00[4/7/10 12:00 AM]; ExpDate=Production Release 20110415 00:00[4/15/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1642 ?time-slice TS1894)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100052)))
      ;;;  Category: TX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36748-R9-24158-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/07/2010 00:00"
      :adjustment-exp-date "04/15/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Refi Net1_Cashout TX - First Tennessee"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36748-R10-24159-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20100407 00:00[4/7/10 12:00 AM]; ExpDate=Production Release 20110415 00:00[4/15/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1642 ?time-slice TS1894)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & COOP | HR | LR | MR)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36748-R10-24159-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/07/2010 00:00"
      :adjustment-exp-date "04/15/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Refi Net1_Refi_Condo Coop - First Tennessee"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36748-R11-24160-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=11; Status=Production; EffDate=Production Release 20100407 00:00[4/7/10 12:00 AM]; ExpDate=Production Release 20110415 00:00[4/15/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1642 ?time-slice TS1894)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(>= ?totalloanamount 1000000.01))
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36748-R11-24160-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/07/2010 00:00"
      :adjustment-exp-date "04/15/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Refi Net1_Refi_LnAmt > $1M - First Tennessee"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36748-R12-24161-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=12; Status=Production; EffDate=Production Release 20100407 00:00[4/7/10 12:00 AM]; ExpDate=Production Release 20110415 00:00[4/15/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1642 ?time-slice TS1894)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator & Y))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36748-R12-24161-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/07/2010 00:00"
      :adjustment-exp-date "04/15/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Refi Net1_Refi_Self Employed - First Tennessee"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36748-R13-24162-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=13; Status=Production; EffDate=Production Release 20100407 00:00[4/7/10 12:00 AM]; ExpDate=Production Release 20110415 00:00[4/15/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1642 ?time-slice TS1894)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205836 205837 205839 205840 208883 208884 208885 208886 206089 205841 205843 205845 205847 206084 206085 206086 206087 206088 16585 16587 208260 208261 208262 208263)))
      ;;;  Entity: FH1, FH2, FH3, FH4, FH5, FH6, FH7, FH8, FN0, FN1, FN2, FN3, FN4, FN5, FN6, FN7, FN8, FN9, OC1, OC3, RP1, RP2, RP3, RP4
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36748-R13-24162-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/07/2010 00:00"
      :adjustment-exp-date "04/15/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Refi Net1_Refi_Products - First Tennessee"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37619-R14-24163-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=14; Status=Production; EffDate=Production Release 20100825 00:00[8/25/10 12:00 AM]; ExpDate=Production Release 20120330 00:00[3/30/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1734 ?time-slice TS2126)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 211736 211737)))
      ;;;  Category: BankUnited 352, BankUnited 353
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45025)))
      ;;;  Category: FHA
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37619-R14-24163-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "08/25/2010 00:00"
      :adjustment-exp-date "03/30/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "BankUnited - FHA Warning - 30 and 60 Days"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37668-R4-24164-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=4; Status=Production; EffDate=Production Release 20100901 00:00[9/1/10 12:00 AM]; ExpDate=Production Release 20110506 00:00[5/6/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1740 ?time-slice TS1908)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17430)))
      ;;;  Category: Comerica 309
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37668-R4-24164-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "09/01/2010 00:00"
      :adjustment-exp-date "05/06/2011 00:00"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Construction - Comerica 309"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39609-R5-24165-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=5; Status=Production; EffDate=Production Release 20110415 00:00[4/15/11 12:00 AM]; ExpDate=Production Release 20130731 00:00[7/31/13 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1895 ?time-slice TS2424)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100052)))
      ;;;  Category: TX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39609-R5-24165-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/15/2011 00:00"
      :adjustment-exp-date "07/31/2013 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "First Tennessee - 45 Day Refi Net1_Cashout TX"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39609-R6-24166-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=6; Status=Production; EffDate=Production Release 20110415 00:00[4/15/11 12:00 AM]; ExpDate=Production Release 20130731 00:00[7/31/13 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1895 ?time-slice TS2424)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & COOP | HR | LR | MR)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39609-R6-24166-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/15/2011 00:00"
      :adjustment-exp-date "07/31/2013 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "First Tennessee - 45 Day Refi Net1_Refi_Condo Coop"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39609-R7-24167-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=7; Status=Production; EffDate=Production Release 20110415 00:00[4/15/11 12:00 AM]; ExpDate=Production Release 20130731 00:00[7/31/13 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1895 ?time-slice TS2424)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(>= ?totalloanamount 1000000.01))
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39609-R7-24167-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/15/2011 00:00"
      :adjustment-exp-date "07/31/2013 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "First Tennessee - 45 Day Refi Net1_Refi_LnAmt > $1M"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39609-R8-24168-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20110415 00:00[4/15/11 12:00 AM]; ExpDate=Production Release 20130731 00:00[7/31/13 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1895 ?time-slice TS2424)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator & Y))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39609-R8-24168-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/15/2011 00:00"
      :adjustment-exp-date "07/31/2013 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "First Tennessee - 45 Day Refi Net1_Refi_Self Employed"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39609-R9-24169-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=9; Status=Production; EffDate=Production Release 20110415 00:00[4/15/11 12:00 AM]; ExpDate=Production Release 20110603 00:00[6/3/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1895 ?time-slice TS1927)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205836 205837 205839 205840 208883 208884 208885 208886 206089 205841 205843 205845 205847 206084 206085 206086 206087 206088 16585 16587 208260 208261 208262 208263)))
      ;;;  Entity: FH1, FH2, FH3, FH4, FH5, FH6, FH7, FH8, FN0, FN1, FN2, FN3, FN4, FN5, FN6, FN7, FN8, FN9, OC1, OC3, RP1, RP2, RP3, RP4
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39609-R9-24169-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "04/15/2011 00:00"
      :adjustment-exp-date "06/03/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "First Tennessee - 45 Day Refi Net1_Refi_Products"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39813-R6-24170-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=6; Status=Production; EffDate=Production Release 20110603 00:00[6/3/11 12:00 AM]; ExpDate=Production Release 20110822 00:00[8/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1928 ?time-slice TS1981)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205836 205837 205839 205840 208883 208884 208885 208886 206089 205841 205843 205845 205847 206084 206085 206086 206087 206088 16585 16586 16587 16588 208260 208261 208262 208263 215459 215460)))
      ;;;  Entity: FH1, FH2, FH3, FH4, FH5, FH6, FH7, FH8, FN0, FN1, FN2, FN3, FN4, FN5, FN6, FN7, FN8, FN9, OC1, OC2, OC3, OC4, RP1, RP2, RP3, RP4, RP5, RP6
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39813-R6-24170-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "06/03/2011 00:00"
      :adjustment-exp-date "08/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "First Tennessee - 45 Day Refi Net1_Refi_Products"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39813-R7-24171-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=7; Status=Production; EffDate=Production Release 20110603 00:00[6/3/11 12:00 AM]; ExpDate=Production Release 20110703 00:00[7/3/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1928 ?time-slice TS1947)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011 202511 202512) :exclude-flag t))
      ;;;  Category: Charles Schwab, Standard FI 322, Standard FI 323
      
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39813-R7-24171-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "06/03/2011 00:00"
      :adjustment-exp-date "07/03/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "WARNING - 120 Day_ConfPlus_Excl Invested Srcs"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39813-R8-24172-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20110603 00:00[6/3/11 12:00 AM]; ExpDate=Production Release 20110703 00:00[7/3/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1928 ?time-slice TS1947)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011 202511 202512) :exclude-flag t))
      ;;;  Category: Charles Schwab, Standard FI 322, Standard FI 323
      
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39813-R8-24172-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "06/03/2011 00:00"
      :adjustment-exp-date "07/03/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "WARNING - PPRP_ConfPlus_Excl Invested Srcs"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39813-R9-24173-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=9; Status=Production; EffDate=Production Release 20110603 00:00[6/3/11 12:00 AM]; ExpDate=Production Release 20110703 00:00[7/3/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1928 ?time-slice TS1947)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 203672 203671)))
      ;;;  Entity: R01, R02, R06, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39813-R9-24173-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "06/03/2011 00:00"
      :adjustment-exp-date "07/03/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "WARNING - 120 Day_ConfPlus_Schwab"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39813-R10-24174-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20110603 00:00[6/3/11 12:00 AM]; ExpDate=Production Release 20110703 00:00[7/3/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1928 ?time-slice TS1947)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 203672 203671)))
      ;;;  Entity: R01, R02, R06, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39813-R10-24174-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "06/03/2011 00:00"
      :adjustment-exp-date "07/03/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "WARNING - PPRP_ConfPlus_Schwab"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39813-R11-24175-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=11; Status=Production; EffDate=Production Release 20110603 00:00[6/3/11 12:00 AM]; ExpDate=Production Release 20110703 00:00[7/3/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1928 ?time-slice TS1947)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202511 202512)))
      ;;;  Category: Standard FI 322, Standard FI 323
      
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 203486 203672 203671)))
      ;;;  Entity: R01, R02, R05, R06, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39813-R11-24175-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "06/03/2011 00:00"
      :adjustment-exp-date "07/03/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "WARNING - 120 Day_ConfPlus_Carver"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39813-R12-24176-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=12; Status=Production; EffDate=Production Release 20110603 00:00[6/3/11 12:00 AM]; ExpDate=Production Release 20110703 00:00[7/3/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1928 ?time-slice TS1947)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202511 202512)))
      ;;;  Category: Standard FI 322, Standard FI 323
      
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 203486 203672 203671)))
      ;;;  Entity: R01, R02, R05, R06, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39813-R12-24176-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "06/03/2011 00:00"
      :adjustment-exp-date "07/03/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "WARNING - PPRP_ConfPlus_Carver"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39813-R13-24177-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=13; Status=Production; EffDate=Production Release 20110603 00:00[6/3/11 12:00 AM]; ExpDate=Production Release 20110703 00:00[7/3/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1928 ?time-slice TS1947)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 271050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45025)))
      ;;;  Category: FHA
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39813-R13-24177-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "06/03/2011 00:00"
      :adjustment-exp-date "07/03/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "WARNING - 120 Day_FHA_TtlLnAmt > $271050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39813-R14-24178-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=14; Status=Production; EffDate=Production Release 20110603 00:00[6/3/11 12:00 AM]; ExpDate=Production Release 20110703 00:00[7/3/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1928 ?time-slice TS1947)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 271050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45025)))
      ;;;  Category: FHA
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39813-R14-24178-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "06/03/2011 00:00"
      :adjustment-exp-date "07/03/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "WARNING - PPRP_FHA_TtlLnAmt > $271050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R7-24179-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=7; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R7-24179-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus PPRP WARNING"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R8-24180-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 417000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R8-24180-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $417000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R9-24181-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=9; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 425500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R9-24181-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $425500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R10-24182-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 426650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R10-24182-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $426650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R11-24183-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=11; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 427800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R11-24183-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $427800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R12-24184-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=12; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 437000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R12-24184-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $437000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R13-24185-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=13; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 442750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R13-24185-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $442750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R14-24186-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=14; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 448500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R14-24186-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $448500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R15-24187-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=15; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 458850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R15-24187-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $458850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R16-24188-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=16; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 463450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R16-24188-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $463450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R17-24189-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=17; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 465750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R17-24189-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $465750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R18-24190-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=18; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 474950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R18-24190-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $474950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R19-24191-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 477250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R19-24191-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $477250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R20-24192-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 483000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R20-24192-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $483000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R21-24193-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 494500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R21-24193-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $494500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R22-24194-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 506000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R22-24194-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $506000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R23-24195-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 515200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R23-24195-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $515200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R24-24196-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 520950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R24-24196-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $520950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R25-24197-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 529000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R25-24197-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $529000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R26-24198-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 535900.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R26-24198-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $535900"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R27-24199-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 546250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R27-24199-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $546250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R28-24200-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=28; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 561200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R28-24200-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $561200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R29-24201-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=29; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 575000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R29-24201-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $575000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R30-24202-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 592250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R30-24202-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $592250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R31-24203-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 598000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R31-24203-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $598000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R32-24204-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 600300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R32-24204-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $600300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R33-24205-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 625500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R33-24205-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $625500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R34-24206-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 626750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R34-24206-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $626750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R35-24207-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 713000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R35-24207-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $713000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R36-24208-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 721050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R36-24208-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_1Unit > $721050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R37-24209-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 533850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R37-24209-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $533850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R38-24210-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 544700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R38-24210-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $544700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R39-24211-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 546200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R39-24211-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $546200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R40-24212-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=40; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 547650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R40-24212-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $547650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R41-24213-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 559450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R41-24213-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $559450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R42-24214-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=42; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 566800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R42-24214-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $566800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R43-24215-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=43; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 574150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R43-24215-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $574150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R44-24216-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=44; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 587400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R44-24216-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $587400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R45-24217-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=45; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 593300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R45-24217-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $593300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R46-24218-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=46; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 596250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R46-24218-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $596250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R47-24219-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 608000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R47-24219-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $608000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R48-24220-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 610950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R48-24220-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $610950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R49-24221-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=49; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 618300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R49-24221-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $618300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R50-24222-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=50; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 633050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R50-24222-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $633050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R51-24223-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=51; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 647750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R51-24223-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $647750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R52-24224-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=52; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 659550.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R52-24224-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $659550"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R53-24225-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=53; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 666900.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R53-24225-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $666900"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R54-24226-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 677200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R54-24226-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $677200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R55-24227-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 686050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R55-24227-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $686050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R56-24228-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 699300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R56-24228-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $699300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R57-24229-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 718450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R57-24229-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $718450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R58-24230-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=58; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 736100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R58-24230-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $736100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R59-24231-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=59; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 758200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R59-24231-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $758200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R60-24232-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=60; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 765550.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R60-24232-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $765550"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R61-24233-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=61; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 768500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R61-24233-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $768500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R62-24234-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=62; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 800775.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R62-24234-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $800775"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R63-24235-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 802350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R63-24235-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $802350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R64-24236-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=64; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 912750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R64-24236-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $912750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R65-24237-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=65; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 923050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R65-24237-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_2Unit > $923050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R66-24238-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=66; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 645300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R66-24238-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $645300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R67-24239-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=67; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 658450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R67-24239-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $658450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R68-24240-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=68; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 660200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R68-24240-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $660200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R69-24241-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=69; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 662000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R69-24241-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $662000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R70-24242-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=70; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 676200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R70-24242-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $676200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R71-24243-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=71; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 685100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R71-24243-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $685100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R72-24244-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=72; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 694000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R72-24244-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $694000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R73-24245-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=73; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 710050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R73-24245-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $710050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R74-24246-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=74; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 717150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R74-24246-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $717150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R75-24247-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=75; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 720700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R75-24247-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $720700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R76-24248-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=76; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 734950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R76-24248-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $734950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R77-24249-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=77; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 738500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R77-24249-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $738500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R78-24250-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=78; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 747400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R78-24250-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $747400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R79-24251-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=79; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 765200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R79-24251-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $765200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R80-24252-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=80; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 783000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R80-24252-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $783000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R81-24253-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=81; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 797250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R81-24253-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $797250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R82-24254-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=82; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 806150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R82-24254-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $806150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R83-24255-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=83; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 818600.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R83-24255-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $818600"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R84-24256-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=84; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 829250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R84-24256-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $829250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R85-24257-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=85; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 845300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R85-24257-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $845300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R86-24258-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=86; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 868400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R86-24258-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $868400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R87-24259-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=87; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 889800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R87-24259-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $889800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R88-24260-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=88; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 916450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R88-24260-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $916450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R89-24261-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=89; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 925350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R89-24261-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $925350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R90-24262-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=90; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 928950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R90-24262-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $928950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R91-24263-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=91; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 967950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R91-24263-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $967950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R92-24264-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=92; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 969850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R92-24264-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $969850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R93-24265-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=93; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1103350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R93-24265-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $1103350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R94-24266-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=94; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1115800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R94-24266-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_3Unit > $1115800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R95-24267-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=95; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 801950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R95-24267-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $801950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R96-24268-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=96; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 818250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R96-24268-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $818250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R97-24269-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=97; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 820500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R97-24269-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $820500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R98-24270-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=98; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 822700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R98-24270-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $822700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R99-24271-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=99; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 840400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R99-24271-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $840400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R100-24272-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=100; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 851450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R100-24272-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $851450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R101-24273-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=101; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 862500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R101-24273-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $862500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R102-24274-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=102; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 882400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R102-24274-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $882400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R103-24275-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=103; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 891250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R103-24275-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $891250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R104-24276-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=104; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 895700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R104-24276-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $895700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R105-24278-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=105; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 913350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R105-24278-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $913350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R106-24280-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=106; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 917800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R106-24280-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $917800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R107-24282-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=107; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 928850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R107-24282-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $928850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R108-24284-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=108; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 950950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R108-24284-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $950950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R109-24286-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=109; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 973100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R109-24286-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $973100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R110-24289-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=110; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 990800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R110-24289-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $990800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R111-24291-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=111; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1001850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R111-24291-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1001850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R112-24293-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=112; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1017300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R112-24293-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1017300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R113-24295-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=113; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1030600.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R113-24295-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1030600"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R114-24298-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=114; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1050500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R114-24298-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1050500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R115-24300-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=115; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1079250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R115-24300-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1079250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R116-24302-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=116; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1105800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R116-24302-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1105800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R117-24304-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=117; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1138950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R117-24304-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1138950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R118-24306-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=118; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1150000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R118-24306-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1150000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R119-24308-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=119; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1154450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R119-24308-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1154450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R120-24311-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=120; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1202925.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R120-24311-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1202925"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R121-24317-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=121; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1205300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R121-24317-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1205300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R122-24319-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=122; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1371150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R122-24319-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1371150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39996-R123-24321-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=123; Status=Production; EffDate=Production Release 20110703 00:00[7/3/11 12:00 AM]; ExpDate=Production Release 20110718 00:00[7/18/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1948 ?time-slice TS1956)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1386650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39996-R123-24321-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/03/2011 00:00"
      :adjustment-exp-date "07/18/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 75 Day_4Unit > $1386650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R8-24323-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 417000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R8-24323-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $417000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R9-24329-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=9; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 425500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R9-24329-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $425500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R10-24331-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 426650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R10-24331-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $426650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R11-24333-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=11; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 427800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R11-24333-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $427800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R12-24335-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=12; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 437000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R12-24335-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $437000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R13-24338-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=13; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 442750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R13-24338-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $442750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R14-24340-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=14; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 448500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R14-24340-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $448500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R15-24342-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=15; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 458850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R15-24342-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $458850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R16-24347-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=16; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 463450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R16-24347-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $463450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R17-24349-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=17; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 465750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R17-24349-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $465750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R18-24351-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=18; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 474950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R18-24351-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $474950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R19-24354-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 477250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R19-24354-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $477250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R20-24356-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 483000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R20-24356-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $483000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R21-24366-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 494500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R21-24366-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $494500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R22-24368-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 506000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R22-24368-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $506000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R23-24370-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 515200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R23-24370-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $515200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R24-24373-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 520950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R24-24373-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $520950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R25-24375-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 529000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R25-24375-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $529000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R26-24377-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 535900.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R26-24377-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $535900"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R27-24380-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 546250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R27-24380-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $546250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R28-24382-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=28; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 561200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R28-24382-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $561200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R29-24385-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=29; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 575000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R29-24385-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $575000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R30-24387-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 592250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R30-24387-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $592250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R31-24389-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 598000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R31-24389-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $598000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R32-24391-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 600300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R32-24391-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $600300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R33-24393-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 625500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R33-24393-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $625500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R34-24399-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 626750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R34-24399-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $626750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R35-24401-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 713000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R35-24401-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $713000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R36-24403-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 721050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R36-24403-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_1Unit > $721050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R37-24405-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 533850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R37-24405-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $533850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R38-24411-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 544700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R38-24411-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $544700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R39-24413-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 546200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R39-24413-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $546200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R40-24415-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=40; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 547650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R40-24415-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $547650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R41-24417-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 559450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R41-24417-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $559450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R42-24420-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=42; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 566800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R42-24420-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $566800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R43-24422-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=43; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 574150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R43-24422-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $574150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R44-24424-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=44; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 587400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R44-24424-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $587400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R45-24427-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=45; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 593300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R45-24427-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $593300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R46-24429-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=46; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 596250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R46-24429-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $596250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R47-24431-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 608000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R47-24431-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $608000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R48-24433-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 610950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R48-24433-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $610950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R49-24435-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=49; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 618300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R49-24435-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $618300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R50-24438-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=50; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 633050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R50-24438-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $633050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R51-24440-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=51; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 647750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R51-24440-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $647750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R52-24442-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=52; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 659550.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R52-24442-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $659550"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R53-24444-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=53; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 666900.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R53-24444-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $666900"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R54-24446-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 677200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R54-24446-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $677200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R55-24448-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 686050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R55-24448-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $686050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R56-24451-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 699300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R56-24451-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $699300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R57-24453-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 718450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R57-24453-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $718450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R58-24456-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=58; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 736100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R58-24456-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $736100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R59-24458-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=59; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 758200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R59-24458-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $758200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R60-24460-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=60; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 765550.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R60-24460-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $765550"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R61-24462-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=61; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 768500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R61-24462-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $768500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R62-24464-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=62; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 800775.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R62-24464-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $800775"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R63-24469-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 802350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R63-24469-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $802350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R64-24472-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=64; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 912750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R64-24472-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $912750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R65-24474-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=65; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 923050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R65-24474-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_2Unit > $923050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R66-24476-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=66; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 645300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R66-24476-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $645300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R67-24480-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=67; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 658450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R67-24480-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $658450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R68-24482-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=68; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 660200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R68-24482-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $660200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R69-24485-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=69; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 662000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R69-24485-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $662000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R70-24487-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=70; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 676200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R70-24487-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $676200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R71-24489-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=71; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 685100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R71-24489-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $685100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R72-24490-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=72; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 694000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R72-24490-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $694000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R73-24492-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=73; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 710050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R73-24492-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $710050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R74-24494-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=74; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 717150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R74-24494-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $717150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R75-24496-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=75; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 720700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R75-24496-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $720700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R76-24497-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=76; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 734950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R76-24497-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $734950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R77-24499-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=77; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 738500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R77-24499-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $738500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R78-24501-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=78; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 747400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R78-24501-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $747400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R79-24503-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=79; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 765200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R79-24503-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $765200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R80-24506-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=80; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 783000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R80-24506-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $783000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R81-24508-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=81; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 797250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R81-24508-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $797250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R82-24510-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=82; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 806150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R82-24510-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $806150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R83-24512-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=83; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 818600.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R83-24512-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $818600"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R84-24515-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=84; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 829250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R84-24515-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $829250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R85-24517-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=85; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 845300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R85-24517-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $845300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R86-24519-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=86; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 868400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R86-24519-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $868400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R87-24521-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=87; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 889800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R87-24521-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $889800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R88-24524-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=88; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 916450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R88-24524-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $916450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R89-24526-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=89; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 925350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R89-24526-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $925350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R90-24528-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=90; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 928950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R90-24528-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $928950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R91-24530-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=91; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 967950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R91-24530-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $967950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R92-24535-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=92; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 969850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R92-24535-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $969850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R93-24538-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=93; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1103350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R93-24538-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $1103350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R94-24540-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=94; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1115800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R94-24540-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_3Unit > $1115800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R95-24542-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=95; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 801950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R95-24542-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $801950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R96-24547-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=96; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 818250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R96-24547-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $818250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R97-24549-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=97; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 820500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R97-24549-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $820500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R98-24551-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=98; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 822700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R98-24551-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $822700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R99-24553-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=99; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 840400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R99-24553-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $840400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R100-24556-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=100; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 851450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R100-24556-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $851450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R101-24558-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=101; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 862500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R101-24558-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $862500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R102-24560-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=102; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 882400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R102-24560-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $882400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R103-24563-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=103; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 891250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R103-24563-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $891250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R104-24565-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=104; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 895700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R104-24565-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $895700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R105-24567-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=105; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 913350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R105-24567-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $913350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R106-24570-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=106; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 917800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R106-24570-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $917800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R107-24572-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=107; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 928850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R107-24572-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $928850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R108-24574-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=108; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 950950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R108-24574-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $950950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R109-24576-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=109; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 973100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R109-24576-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $973100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R110-24579-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=110; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 990800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R110-24579-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $990800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R111-24581-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=111; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1001850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R111-24581-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1001850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R112-24583-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=112; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1017300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R112-24583-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1017300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R113-24585-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=113; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1030600.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R113-24585-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1030600"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R114-24588-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=114; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1050500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R114-24588-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1050500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R115-24590-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=115; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1079250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R115-24590-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1079250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R116-24592-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=116; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1105800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R116-24592-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1105800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R117-24594-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=117; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1138950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R117-24594-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1138950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R118-24596-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=118; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1150000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R118-24596-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1150000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R119-24598-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=119; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1154450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R119-24598-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1154450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R120-24601-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=120; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1202925.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R120-24601-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1202925"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R121-24606-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=121; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1205300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R121-24606-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1205300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R122-24608-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=122; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1371150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R122-24608-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1371150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40044-R123-24610-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=123; Status=Production; EffDate=Production Release 20110718 00:00[7/18/11 12:00 AM]; ExpDate=Production Release 20110722 00:00[7/22/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1957 ?time-slice TS1959)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1386650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40044-R123-24610-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/18/2011 00:00"
      :adjustment-exp-date "07/22/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 60 Day_4Unit > $1386650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R8-24612-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 417000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R8-24612-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $417000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R9-24620-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=9; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 425500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R9-24620-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $425500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R10-24623-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 426650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R10-24623-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $426650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R11-24625-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=11; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 427800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R11-24625-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $427800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R12-24627-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=12; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 437000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R12-24627-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $437000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R13-24629-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=13; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 442750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R13-24629-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $442750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R14-24631-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=14; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 448500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R14-24631-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $448500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R15-24633-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=15; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 458850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R15-24633-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $458850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R16-24636-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=16; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 463450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R16-24636-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $463450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R17-24638-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=17; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 465750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R17-24638-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $465750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R18-24641-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=18; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 474950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R18-24641-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $474950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R19-24643-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 477250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R19-24643-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $477250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R20-24646-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 483000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R20-24646-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $483000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R21-24648-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 494500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R21-24648-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $494500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R22-24650-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 506000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R22-24650-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $506000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R23-24652-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 515200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R23-24652-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $515200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R24-24654-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 520950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R24-24654-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $520950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R25-24656-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 529000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R25-24656-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $529000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R26-24658-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 535900.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R26-24658-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $535900"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R27-24661-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 546250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R27-24661-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $546250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R28-24663-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=28; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 561200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R28-24663-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $561200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R29-24665-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=29; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 575000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R29-24665-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $575000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R30-24667-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 592250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R30-24667-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $592250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R31-24669-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 598000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R31-24669-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $598000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R32-24672-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 600300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R32-24672-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $600300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R33-24674-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 625500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R33-24674-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $625500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R34-24679-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 626750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R34-24679-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $626750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R35-24681-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 713000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R35-24681-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $713000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R36-24684-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 721050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R36-24684-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_1Unit > $721050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R37-24686-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 533850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R37-24686-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $533850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R38-24691-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 544700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R38-24691-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $544700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R39-24693-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 546200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R39-24693-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $546200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R40-24695-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=40; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 547650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R40-24695-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $547650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R41-24697-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 559450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R41-24697-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $559450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R42-24699-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=42; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 566800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R42-24699-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $566800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R43-24701-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=43; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 574150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R43-24701-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $574150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R44-24704-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=44; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 587400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R44-24704-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $587400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R45-24706-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=45; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 593300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R45-24706-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $593300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R46-24708-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=46; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 596250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R46-24708-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $596250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R47-24711-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 608000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R47-24711-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $608000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R48-24713-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 610950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R48-24713-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $610950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R49-24715-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=49; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 618300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R49-24715-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $618300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R50-24717-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=50; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 633050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R50-24717-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $633050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R51-24720-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=51; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 647750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R51-24720-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $647750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R52-24722-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=52; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 659550.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R52-24722-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $659550"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R53-24724-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=53; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 666900.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R53-24724-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $666900"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R54-24726-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 677200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R54-24726-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $677200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R55-24728-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 686050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R55-24728-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $686050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R56-24730-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 699300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R56-24730-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $699300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R57-24733-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 718450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R57-24733-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $718450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R58-24736-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=58; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 736100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R58-24736-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $736100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R59-24738-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=59; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 758200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R59-24738-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $758200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R60-24741-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=60; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 765550.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R60-24741-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $765550"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R61-24743-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=61; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 768500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R61-24743-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $768500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R62-24745-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=62; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 800775.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R62-24745-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $800775"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R63-24751-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 802350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R63-24751-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $802350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R64-24753-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=64; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 912750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R64-24753-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $912750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R65-24755-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=65; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 923050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R65-24755-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_2Unit > $923050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R66-24757-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=66; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 645300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R66-24757-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $645300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R67-24762-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=67; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 658450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R67-24762-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $658450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R68-24765-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=68; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 660200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R68-24765-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $660200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R69-24767-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=69; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 662000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R69-24767-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $662000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R70-24769-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=70; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 676200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R70-24769-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $676200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R71-24771-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=71; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 685100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R71-24771-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $685100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R72-24773-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=72; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 694000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R72-24773-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $694000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R73-24775-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=73; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 710050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R73-24775-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $710050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R74-24778-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=74; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 717150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R74-24778-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $717150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R75-24780-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=75; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 720700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R75-24780-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $720700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R76-24782-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=76; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 734950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R76-24782-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $734950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R77-24784-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=77; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 738500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R77-24784-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $738500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R78-24786-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=78; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 747400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R78-24786-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $747400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R79-24789-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=79; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 765200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R79-24789-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $765200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R80-24791-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=80; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 783000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R80-24791-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $783000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R81-24793-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=81; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 797250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R81-24793-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $797250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R82-24795-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=82; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 806150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R82-24795-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $806150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R83-24797-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=83; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 818600.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R83-24797-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $818600"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R84-24799-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=84; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 829250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R84-24799-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $829250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R85-24802-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=85; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 845300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R85-24802-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $845300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R86-24805-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=86; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 868400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R86-24805-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $868400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R87-24807-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=87; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 889800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R87-24807-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $889800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R88-24810-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=88; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 916450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R88-24810-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $916450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R89-24813-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=89; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 925350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R89-24813-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $925350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R90-24816-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=90; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 928950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R90-24816-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $928950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R91-24824-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=91; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 967950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R91-24824-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $967950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R92-24830-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=92; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 969850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R92-24830-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $969850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R93-24833-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=93; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1103350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R93-24833-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $1103350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R94-24835-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=94; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1115800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R94-24835-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_3Unit > $1115800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R95-24838-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=95; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 801950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R95-24838-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $801950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R96-24842-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=96; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 818250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R96-24842-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $818250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R97-24844-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=97; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 820500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R97-24844-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $820500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R98-24847-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=98; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 822700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R98-24847-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $822700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R99-24849-D06-12-2013-T06-43-27 "Retired_PSS_Commitment Base Adjustments; RowNum=99; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 840400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R99-24849-D06-12-2013-T06-43-27
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $840400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R100-24851-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=100; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 851450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R100-24851-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $851450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R101-24853-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=101; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 862500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R101-24853-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $862500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R102-24855-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=102; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 882400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R102-24855-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $882400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R103-24858-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=103; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 891250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R103-24858-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $891250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R104-24860-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=104; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 895700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R104-24860-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $895700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R105-24862-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=105; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 913350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R105-24862-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $913350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R106-24864-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=106; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 917800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R106-24864-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $917800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R107-24866-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=107; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 928850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R107-24866-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $928850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R108-24868-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=108; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 950950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R108-24868-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $950950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R109-24871-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=109; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 973100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R109-24871-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $973100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R110-24873-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=110; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 990800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R110-24873-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $990800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R111-24875-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=111; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1001850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R111-24875-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1001850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R112-24877-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=112; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1017300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R112-24877-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1017300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R113-24879-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=113; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1030600.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R113-24879-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1030600"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R114-24882-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=114; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1050500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R114-24882-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1050500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R115-24884-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=115; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1079250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R115-24884-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1079250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R116-24887-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=116; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1105800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R116-24887-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1105800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R117-24889-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=117; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1138950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R117-24889-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1138950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R118-24891-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=118; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1150000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R118-24891-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1150000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R119-24893-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=119; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1154450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R119-24893-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1154450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R120-24895-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=120; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1202925.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R120-24895-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1202925"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R121-24901-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=121; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1205300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R121-24901-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1205300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R122-24903-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=122; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1371150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R122-24903-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1371150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40075-R123-24905-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=123; Status=Production; EffDate=Production Release 20110722 00:00[7/22/11 12:00 AM]; ExpDate=Production Release 20110802 00:00[8/2/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1960 ?time-slice TS1966)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1386650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40075-R123-24905-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/22/2011 00:00"
      :adjustment-exp-date "08/02/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 45 Day_4Unit > $1386650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R8-24907-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 417000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R8-24907-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $417000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R9-24911-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=9; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 425500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R9-24911-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $425500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R10-24914-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 426650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R10-24914-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $426650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R11-24916-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=11; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 427800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R11-24916-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $427800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R12-24918-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=12; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 437000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R12-24918-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $437000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R13-24920-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=13; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 442750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R13-24920-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $442750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R14-24923-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=14; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 448500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R14-24923-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $448500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R15-24925-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=15; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 458850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R15-24925-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $458850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R16-24927-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=16; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 463450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R16-24927-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $463450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R17-24930-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=17; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 465750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R17-24930-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $465750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R18-24932-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=18; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 474950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R18-24932-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $474950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R19-24935-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 477250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R19-24935-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $477250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R20-24937-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 483000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R20-24937-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $483000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R21-24939-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 494500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R21-24939-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $494500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R22-24941-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 506000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R22-24941-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $506000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R23-24943-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 515200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R23-24943-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $515200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R24-24946-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 520950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R24-24946-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $520950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R25-24948-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 529000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R25-24948-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $529000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R26-24950-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 535900.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R26-24950-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $535900"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R27-24953-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 546250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R27-24953-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $546250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R28-24955-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=28; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 561200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R28-24955-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $561200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R29-24958-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=29; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 575000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R29-24958-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $575000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R30-24960-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 592250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R30-24960-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $592250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R31-24962-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 598000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R31-24962-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $598000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R32-24964-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 600300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R32-24964-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $600300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R33-24966-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 625500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R33-24966-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $625500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R34-24971-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 9:30 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 626750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R34-24971-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $626750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R35-24973-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 713000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R35-24973-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $713000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R36-24976-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 721050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R36-24976-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_1Unit > $721050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R37-24978-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 533850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R37-24978-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $533850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R38-24982-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 544700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R38-24982-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $544700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R39-24985-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 546200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R39-24985-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $546200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R40-24987-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=40; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 547650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R40-24987-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $547650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R41-24989-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 559450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R41-24989-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $559450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R42-24991-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=42; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 566800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R42-24991-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $566800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R43-24993-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=43; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 574150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R43-24993-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $574150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R44-24995-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=44; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 587400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R44-24995-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $587400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R45-24998-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=45; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 593300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R45-24998-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $593300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R46-25000-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=46; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 596250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R46-25000-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $596250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R47-25003-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 608000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R47-25003-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $608000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R48-25005-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 610950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R48-25005-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $610950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R49-25008-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=49; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 618300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R49-25008-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $618300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R50-25010-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=50; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 633050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R50-25010-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $633050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R51-25012-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=51; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 647750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R51-25012-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $647750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R52-25014-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=52; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 659550.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R52-25014-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $659550"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R53-25016-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=53; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 666900.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R53-25016-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $666900"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R54-25018-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 677200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R54-25018-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $677200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R55-25020-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 686050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R55-25020-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $686050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R56-25023-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 699300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R56-25023-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $699300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R57-25025-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 718450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R57-25025-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $718450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R58-25027-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=58; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 736100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R58-25027-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $736100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R59-25030-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=59; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 758200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R59-25030-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $758200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R60-25032-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=60; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 765550.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R60-25032-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $765550"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R61-25034-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=61; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 768500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R61-25034-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $768500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R62-25037-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=62; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 800775.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R62-25037-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $800775"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R63-25042-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 802350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R63-25042-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $802350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R64-25045-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=64; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 912750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R64-25045-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $912750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R65-25047-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=65; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 923050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R65-25047-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_2Unit > $923050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R66-25049-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=66; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 645300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R66-25049-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $645300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R67-25054-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=67; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 658450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R67-25054-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $658450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R68-25056-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=68; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 660200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R68-25056-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $660200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R69-25058-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=69; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 662000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R69-25058-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $662000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R70-25060-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=70; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 676200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R70-25060-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $676200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R71-25063-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=71; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 685100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R71-25063-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $685100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R72-25065-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=72; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 694000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R72-25065-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $694000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R73-25067-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=73; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 710050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R73-25067-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $710050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R74-25070-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=74; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 717150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R74-25070-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $717150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R75-25072-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=75; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 720700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R75-25072-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $720700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R76-25074-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=76; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 734950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R76-25074-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $734950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R77-25076-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=77; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 738500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R77-25076-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $738500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R78-25079-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=78; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 747400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R78-25079-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $747400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R79-25080-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=79; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 765200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R79-25080-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $765200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R80-25083-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=80; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 783000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R80-25083-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $783000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R81-25085-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=81; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 797250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R81-25085-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $797250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R82-25087-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=82; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 806150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R82-25087-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $806150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R83-25089-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=83; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 818600.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R83-25089-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $818600"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R84-25091-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=84; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 829250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R84-25091-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $829250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R85-25107-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=85; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 845300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R85-25107-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $845300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R86-25109-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=86; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 868400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R86-25109-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $868400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R87-25111-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=87; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 889800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R87-25111-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $889800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R88-25113-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=88; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:30 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 916450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R88-25113-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $916450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R89-25116-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=89; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 925350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R89-25116-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $925350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R90-25118-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=90; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 928950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R90-25118-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $928950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R91-25120-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=91; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 967950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R91-25120-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $967950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R92-25130-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=92; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 969850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R92-25130-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $969850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R93-25133-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=93; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1103350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R93-25133-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $1103350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R94-25135-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=94; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1115800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R94-25135-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_3Unit > $1115800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R95-25137-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=95; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 801950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R95-25137-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $801950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R96-25142-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=96; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 818250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R96-25142-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $818250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R97-25144-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=97; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 820500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R97-25144-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $820500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R98-25147-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=98; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 822700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R98-25147-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $822700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R99-25149-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=99; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 840400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R99-25149-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $840400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R100-25151-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=100; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 851450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R100-25151-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $851450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R101-25153-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=101; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 862500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R101-25153-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "07/24/2013 09:30"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $862500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R102-25156-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=102; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 882400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R102-25156-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $882400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R103-25158-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=103; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 891250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R103-25158-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $891250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R104-25161-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=104; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 895700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R104-25161-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $895700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R105-25163-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=105; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 913350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R105-25163-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $913350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R106-25165-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=106; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 917800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R106-25165-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $917800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R107-25168-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=107; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 928850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R107-25168-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $928850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R108-25170-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=108; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 950950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R108-25170-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $950950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R109-25172-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=109; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 973100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R109-25172-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $973100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R110-25175-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=110; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 990800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R110-25175-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $990800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R111-25177-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=111; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1001850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R111-25177-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1001850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R112-25179-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=112; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1017300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R112-25179-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1017300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R113-25180-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=113; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1030600.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R113-25180-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1030600"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R114-25181-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=114; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1050500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R114-25181-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1050500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R115-25182-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=115; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1079250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R115-25182-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1079250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R116-25184-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=116; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1105800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R116-25184-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1105800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R117-25186-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=117; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1138950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R117-25186-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1138950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R118-25188-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=118; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1150000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R118-25188-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1150000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R119-25190-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=119; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1154450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R119-25190-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1154450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R120-25193-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=120; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1202925.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R120-25193-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1202925"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R121-25197-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=121; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1205300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R121-25197-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1205300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R122-25199-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=122; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1371150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R122-25199-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1371150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40141-R123-25202-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=123; Status=Production; EffDate=Production Release 20110802 00:00[8/2/11 12:00 AM]; ExpDate=Production Release 20110817 00:00[8/17/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1967 ?time-slice TS1977)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1386650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 31)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40141-R123-25202-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/02/2011 00:00"
      :adjustment-exp-date "08/17/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > 30 Day_4Unit > $1386650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R8-25204-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 417000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R8-25204-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $417000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R9-25208-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=9; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 425500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R9-25208-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $425500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R10-25211-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 426650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R10-25211-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $426650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R11-25213-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=11; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 427800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R11-25213-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $427800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R12-25215-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=12; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 437000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R12-25215-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $437000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R13-25218-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=13; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 442750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R13-25218-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $442750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R14-25220-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=14; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 448500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R14-25220-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $448500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R15-25222-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=15; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 458850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R15-25222-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $458850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R16-25225-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=16; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 463450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R16-25225-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $463450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R17-25227-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=17; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 465750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R17-25227-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $465750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R18-25229-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=18; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 474950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R18-25229-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $474950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R19-25231-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 477250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R19-25231-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $477250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R20-25234-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 483000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R20-25234-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $483000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R21-25236-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 494500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R21-25236-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $494500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R22-25238-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 506000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R22-25238-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $506000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R23-25240-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 515200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R23-25240-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $515200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R24-25243-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 520950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R24-25243-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $520950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R25-25245-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 529000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R25-25245-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $529000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R26-25247-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 535900.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R26-25247-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $535900"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R27-25250-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 546250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R27-25250-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $546250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R28-25252-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=28; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 561200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R28-25252-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $561200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R29-25254-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=29; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20111230 00:00[12/30/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2066)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 575000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R29-25254-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "12/30/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $575000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R30-25256-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 592250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R30-25256-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $592250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R31-25258-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 598000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R31-25258-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $598000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R32-25260-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 600300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R32-25260-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $600300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R33-25263-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 625500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R33-25263-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $625500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R34-25267-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 626750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R34-25267-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $626750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R35-25270-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 713000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R35-25270-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $713000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R36-25272-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 721050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R36-25272-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $721050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R37-25274-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 533850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R37-25274-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $533850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R38-25278-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 544700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R38-25278-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $544700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R39-25281-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 546200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R39-25281-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $546200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R40-25283-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=40; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 547650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R40-25283-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $547650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R41-25285-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 559450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R41-25285-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $559450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R42-25287-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=42; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 566800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R42-25287-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $566800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R43-25289-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=43; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 574150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R43-25289-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $574150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R44-25291-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=44; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 587400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R44-25291-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $587400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R45-25294-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=45; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 593300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R45-25294-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $593300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R46-25297-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=46; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 596250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R46-25297-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $596250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R47-25299-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 608000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R47-25299-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $608000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R48-25301-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 610950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R48-25301-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $610950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R49-25303-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=49; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 618300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R49-25303-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $618300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R50-25306-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=50; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 633050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R50-25306-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $633050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R51-25308-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=51; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 647750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R51-25308-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $647750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R52-25310-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=52; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 659550.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R52-25310-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $659550"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R53-25312-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=53; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 666900.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R53-25312-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $666900"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R54-25314-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 677200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R54-25314-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $677200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R55-25317-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 686050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R55-25317-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $686050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R56-25319-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 699300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R56-25319-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $699300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R57-25322-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 718450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R57-25322-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $718450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R58-25324-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=58; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 736100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R58-25324-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $736100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R59-25326-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=59; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 758200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R59-25326-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $758200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R60-25328-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=60; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 765550.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R60-25328-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $765550"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R61-25330-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=61; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 768500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R61-25330-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $768500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R62-25332-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=62; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 800775.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R62-25332-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $800775"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R63-25338-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 802350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R63-25338-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $802350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R64-25340-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=64; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 912750.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R64-25340-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $912750"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R65-25342-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=65; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 923050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R65-25342-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_2Unit > $923050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R66-25344-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=66; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 645300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R66-25344-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $645300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R67-25349-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=67; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 658450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R67-25349-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $658450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R68-25352-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=68; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 660200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R68-25352-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $660200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R69-25354-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=69; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 662000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R69-25354-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $662000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R70-25356-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=70; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 676200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R70-25356-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $676200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R71-25359-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=71; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 685100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R71-25359-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $685100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R72-25361-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=72; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 694000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R72-25361-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $694000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R73-25363-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=73; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 710050.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R73-25363-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $710050"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R74-25366-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=74; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 717150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R74-25366-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $717150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R75-25368-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=75; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 720700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R75-25368-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $720700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R76-25370-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=76; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 734950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R76-25370-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $734950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R77-25372-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=77; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 738500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R77-25372-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $738500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R78-25375-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=78; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 747400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R78-25375-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $747400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R79-25377-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=79; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 765200.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R79-25377-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $765200"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R80-25379-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=80; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 783000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R80-25379-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $783000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R81-25381-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=81; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 797250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R81-25381-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $797250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R82-25383-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=82; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 806150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R82-25383-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $806150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R83-25385-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=83; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 818600.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R83-25385-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $818600"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R84-25387-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=84; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 829250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R84-25387-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $829250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R85-25390-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=85; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 845300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R85-25390-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $845300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R86-25392-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=86; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 868400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R86-25392-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $868400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R87-25394-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=87; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 889800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R87-25394-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $889800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R88-25396-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=88; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 916450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R88-25396-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $916450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R89-25399-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=89; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 925350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R89-25399-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $925350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R90-25401-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=90; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 928950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R90-25401-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $928950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R91-25403-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=91; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 967950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R91-25403-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $967950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R92-25408-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=92; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 969850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R92-25408-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $969850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R93-25411-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=93; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1103350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R93-25411-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $1103350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R94-25413-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=94; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1115800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 3U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R94-25413-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_3Unit > $1115800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R95-25415-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=95; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 801950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100674 100122 100419 101444 101865 102009 102013 102567 102664 102669 102751 102800 102820 102885 102982 103293 100322 101107 101245 101649 102670 103170 101324 102031 102952 102182 100361 101894 102030 102313 102697 103026 100208 100521 101115 102895 103255 100808 100174 100396 100448 100465 101147 102018 102652 102694 100906 100923 102268 100172 100600 100698 100862 101485 102149 103125 103274 100380 100568 100853 102110 102373 103289 100461 100552 100813 100875 101364 101863 102575 102613 102794 102873 102975 103219 103223 103098 101077 103225 100618 101529 101626 102790 101273)))
      ;;;  Category: COCONINO, AMADOR, CALAVERAS, INYO, MADERA, MENDOCINO, MERCED, RIVERSIDE, SAN BERNARDINO, SAN JOAQUIN, SHASTA, SOLANO, STANISLAUS, SUTTER, TUOLUMNE, YUBA, BOULDER, GARFIELD, GUNNISON, LA PLATA, SAN JUAN, WELD, HARTFORD, MIDDLESEX, TOLLAND, NEW CASTLE, BROWARD, MANATEE, MIAMI-DADE, PALM BEACH, SARASOTA, VALLEY, BARNSTABLE, CECIL, GARRETT, TALBOT, WORCESTER, DARE, ATLANTIC, BURLINGTON, CAMDEN, CAPE MAY, GLOUCESTER, MERCER, SALEM, SANTA FE, DOUGLAS, DUTCHESS, ORANGE, ATHENS, CLACKAMAS, COLUMBIA, DESCHUTES, JACKSON, MULTNOMAH, WASHINGTON, YAMHILL, BUCKS, CHESTER, DELAWARE, MONTGOMERY, PHILADELPHIA, YORK, CANNON, CHEATHAM, DAVIDSON, DICKSON, HICKMAN, MACON, ROBERTSON, RUTHERFORD, SMITH, SUMNER, TROUSDALE, WILLIAMSON, WILSON, WASATCH, FREDERICK, WINCHESTER CITY, CLARK, JEFFERSON, KITSAP, SKAMANIA, HAMPSHIRE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R95-25415-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $801950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R96-25420-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=96; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 818250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102299)))
      ;;;  Category: OURAY
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R96-25420-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $818250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R97-25422-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=97; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 820500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100351 100352 101596 102192 102475 103127)))
      ;;;  Category: BRISTOL, BRISTOL, KENT, NEWPORT, PROVIDENCE, WASHINGTON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R97-25422-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $820500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R98-25425-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=98; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 822700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101377)))
      ;;;  Category: HINSDALE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R98-25425-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $822700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R99-25427-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=99; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 840400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100096 100541 101037 101218 102174)))
      ;;;  Category: ALBEMARLE, CHARLOTTESVILLE CITY, FLUVANNA, GREENE, NELSON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R99-25427-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $840400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R100-25429-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=100; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 851450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101692)))
      ;;;  Category: LANCASTER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R100-25429-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $851450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R101-25431-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=101; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 862500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100688)))
      ;;;  Category: COLLIER
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R101-25431-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $862500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R102-25432-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=102; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 882400.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100783 100566 101148 101274 101461 101491 101955 102191 102212 102442 102446 102858 102880 103053 103216 103291)))
      ;;;  Category: CURRITUCK, CHESAPEAKE CITY, GLOUCESTER, HAMPTON CITY, ISLE OF WIGHT, JAMES CITY, MATHEWS, NEWPORT NEWS CITY, NORFOLK CITY, POQUOSON CITY, PORTSMOUTH CITY, SUFFOLK CITY, SURRY, VIRGINIA BEACH CITY, WILLIAMSBURG CITY, YORK
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R102-25432-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $882400"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R103-25433-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=103; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 891250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100121)))
      ;;;  Category: ALPINE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R103-25433-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $891250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R104-25435-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=104; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 895700.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100978 102032 102213 102418 102859 102586 102855)))
      ;;;  Category: ESSEX, MIDDLESEX, NORFOLK, PLYMOUTH, SUFFOLK, ROCKINGHAM, STRAFFORD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R104-25435-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $895700"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R105-25436-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=105; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 913350.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100949 102410 102619 103285)))
      ;;;  Category: EL DORADO, PLACER, SACRAMENTO, YOLO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R105-25436-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $913350"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R106-25438-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=106; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 917800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102181)))
      ;;;  Category: NEVADA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R106-25438-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $917800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R107-25441-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=107; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 928850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102093 101433 102674)))
      ;;;  Category: MONTEREY, HYDE, SAN JUAN
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R107-25441-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $928850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R108-25443-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=108; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 950950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100138 100196 100195 100482 101303 101408 102497)))
      ;;;  Category: ANNE ARUNDEL, BALTIMORE, BALTIMORE CITY, CARROLL, HARFORD, HOWARD, QUEEN ANNES
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R108-25443-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $950950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R109-25445-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=109; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 973100.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101615 102387 102797)))
      ;;;  Category: KING, PIERCE, SNOHOMISH
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R109-25445-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $973100"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R110-25447-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=110; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 990800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101207)))
      ;;;  Category: GREENE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R110-25447-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $990800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R111-25449-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=111; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1001850.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102806)))
      ;;;  Category: SONOMA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R111-25449-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1001850"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R112-25451-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=112; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1017300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102071 102076)))
      ;;;  Category: MONO, MONROE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R112-25451-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1017300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R113-25453-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=113; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1030600.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100123 100475 100534 100572 100691 100781 100879 101155 101287 101348 101392 101611 101613 101831 102185 102368 102459 102470 102552 102884)))
      ;;;  Category: AMELIA, CAROLINE, CHARLES CITY, CHESTERFIELD, COLONIAL HEIGHTS CITY, CUMBERLAND, DINWIDDIE, GOOCHLAND, HANOVER, HENRICO, HOPEWELL CITY, KING AND QUEEN, KING WILLIAM, LOUISA, NEW KENT, PETERSBURG CITY, POWHATAN, PRINCE GEORGE, RICHMOND CITY, SUSSEX
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R113-25453-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1030600"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R114-25456-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=114; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1050500.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102665)))
      ;;;  Category: SAN DIEGO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R114-25456-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1050500"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R115-25458-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=115; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1079250.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102676)))
      ;;;  Category: SAN LUIS OBISPO
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R115-25458-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1079250"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R116-25460-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=116; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1105800.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R116-25460-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1105800"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R117-25462-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=117; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1138950.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102163)))
      ;;;  Category: NAPA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R117-25462-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1138950"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R118-25464-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=118; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1150000.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 103040)))
      ;;;  Category: VENTURA
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R118-25464-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1150000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R119-25466-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=119; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1154450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 102659 102871 102955)))
      ;;;  Category: SALT LAKE, SUMMIT, TOOELE
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R119-25466-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1154450"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R120-25468-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=120; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1202925.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100099 100100 100128 100276 100349 100857 100876 100988 101251 101567 101587 101604 101642 101667 101954 102211 102215 102222 102473 102787 102789 102808 103024 103059 103259 103272 103294 100092 100714 101827 101903 102264 102663 102666 102677 102690 102691 102693 100927 101670 102405 102600 102678 102869 100880 101331 100289 102924 100916 102162 100442 100536 101076 102104 102472 100447 102326 102355 100267 100979 101414 101426 102033 102070 102137 102234 102327 102803 102883 103008 100354 101619 102167 102188 102491 102498 102555 102588 102860 103176 102398 100103 100155 100624 100991 100989 100998 101005 101078 101829 101892 101893 102474 102815 102819 103096 101531 102926)))
      ;;;  Category: ALEUTIANS EAST, ALEUTIANS WEST, ANCHORAGE, BETHEL, BRISTOL BAY, DENALI, DILLINGHAM, FAIRBANKS NORTH STAR, HAINES, JUNEAU, KENAI PENINSULA, KETCHIKAN GATEWAY, KODIAK ISLAND, LAKE AND PENINSULA, MATANUSKA SUSITNA, NOME, NORTH SLOPE, NORTHWEST ARCTIC, PRINCE WALES KETCHIKAN, SITKA, SKAGWAY HOONAH ANGOON, SOUTHEAST FAIRBANKS, VALDEZ CORDOVA, WADE HAMPTON, WRANGELL PETERSBURG, YAKUTAT, YUKON KOYUKUK, ALAMEDA, CONTRA COSTA, LOS ANGELES, MARIN, ORANGE, SAN BENITO, SAN FRANCISCO, SAN MATEO, SANTA BARBARA, SANTA CLARA, SANTA CRUZ, EAGLE, LAKE, PITKIN, ROUTT, SAN MIGUEL, SUMMIT, DISTRICT OF COLUMBIA, HAWAII, BLAINE, TETON, DUKES, NANTUCKET, CALVERT, CHARLES, FREDERICK, MONTGOMERY, PRINCE GEORGES, CAMDEN, PASQUOTANK, PERQUIMANS, BERGEN, ESSEX, HUDSON, HUNTERDON, MIDDLESEX, MONMOUTH, MORRIS, OCEAN, PASSAIC, SOMERSET, SUSSEX, UNION, BRONX, KINGS, NASSAU, NEW YORK, PUTNAM, QUEENS, RICHMOND, ROCKLAND, SUFFOLK, WESTCHESTER, PIKE, ALEXANDRIA CITY, ARLINGTON, CLARKE, FAIRFAX, FAIRFAX CITY, FALLS CHURCH CITY, FAUQUIER, FREDERICKSBURG CITY, LOUDOUN, MANASSAS CITY, MANASSAS PARK CITY, PRINCE WILLIAM, SPOTSYLVANIA, STAFFORD, WARREN, JEFFERSON, TETON
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R120-25468-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1202925"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R121-25473-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=121; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1205300.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101571 101956)))
      ;;;  Category: KALAWAO, MAUI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R121-25473-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1205300"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R122-25475-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=122; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1371150.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101580)))
      ;;;  Category: KAUAI
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R122-25475-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1371150"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40205-R123-25477-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=123; Status=Production; EffDate=Production Release 20110817 00:00[8/17/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1978 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 1386650.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype & 4U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 101388)))
      ;;;  Category: HONOLULU
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40205-R123-25477-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/17/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_4Unit > $1386650"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40241-R6-25479-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=6; Status=Production; EffDate=Production Release 20110822 00:00[8/22/11 12:00 AM]; ExpDate=Production Release 20111230 00:00[12/30/11 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1982 ?time-slice TS2066)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 206089 206084 206085 206086 206087 206088 205836 205837 205839 205840 208883 208884 208885 208886 205841 205843 205845 205847 216297 216298 216299 216300 216305 16585 16586 16587 16588 216306 216309 216310 216307 216308 216304 208260 208261 208262 208263 215459 215460 216301 216302 216303)))
      ;;;  Entity: FN0, FN5, FN6, FN7, FN8, FN9, FH1, FH2, FH3, FH4, FH5, FH6, FH7, FH8, FN1, FN2, FN3, FN4, FR1, FR2, FR3, FR4, OC0, OC1, OC2, OC3, OC4, OC5, OE1, OE2, RE1, RE2, RP0, RP1, RP2, RP3, RP4, RP5, RP6, RP7, RP8, RP9
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40241-R6-25479-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/22/2011 00:00"
      :adjustment-exp-date "12/30/2011 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "First Tennessee - 45 Day Refi Net1_Refi_Products"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40241-R7-25481-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=7; Status=Production; EffDate=Production Release 20110822 00:00[8/22/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1982 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214978 214326 211970 202833 202687 25022 209043 25028 215189 25035 214620 24001) :exclude-flag t))
      ;;;  Category: Ameriprise, Barclays, Centra, E-Trade, First Tennessee, Goldman Sachs, KeyBank, Merrill Lynch, Morgan Stanley, Portfolio, TIAA-CREF, Real Estate
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019) :entity (build$ 205759 205760 205761 212112 207366 207367 207368 207369 207370 207371 207703 207704 207705 207706 207707 207708 207709 207710 207711 207854 207855 207856 212113 204848 204842 204844 205758 212111 212091 212092 212094 207372 207701 207702 212096 212098 212100 212101 212102 212103 212104 212106 212107 212108 212109 212110 216514 216515 216516 216517 216518 216519 216520 216521 216522 216342 216343 216344 216345 216346 216347 216348 216349) :exclude-flag t))
      ;;;  Category: BondEntity: 506, 507, 508, 519, 540, 541, 542, 543, 544, 545, 551, 553, 557, 558, 559, 563, 564, 565, 566, 567, 568, 569, 570, 501, 503, 504, 505, 509, 511, 512, 514, 547, 548, 549, 516, 518, 523, 524, 526, 528, 529, 572, 573, 574, 576, 578, 585, 586, 587, 588, 589, 590, 591, 592, 593, J13, J14, J15, J16, J17, J18, J19, J20
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40241-R7-25481-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/22/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Cost Qual - 75 day commit .125 add on"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40241-R8-25483-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20110822 00:00[8/22/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1982 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202833 25028 25035)))
      ;;;  Category: E-Trade, Merrill Lynch, Portfolio
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019) :entity (build$ 205759 205760 205761 212112 207366 207367 207368 207369 207370 207371 207703 207704 207705 207706 207707 207708 207709 207710 207711 207854 207855 207856 212113 204848 204842 204844 205758 212111 212091 212092 212094 207372 207701 207702 212096 212098 212100 212101 212102 212103 212104 212106 212107 212108 212109 212110 216514 216515 216516 216517 216518 216519 216520 216521 216522 216342 216343 216344 216345 216346 216347 216348 216349) :exclude-flag t))
      ;;;  Category: BondEntity: 506, 507, 508, 519, 540, 541, 542, 543, 544, 545, 551, 553, 557, 558, 559, 563, 564, 565, 566, 567, 568, 569, 570, 501, 503, 504, 505, 509, 511, 512, 514, 547, 548, 549, 516, 518, 523, 524, 526, 528, 529, 572, 573, 574, 576, 578, 585, 586, 587, 588, 589, 590, 591, 592, 593, J13, J14, J15, J16, J17, J18, J19, J20
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40241-R8-25483-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "08/22/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Cost Qual - 90 day commit .25 add on"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40975-R6-25484-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=6; Status=Production; EffDate=Production Release 20111230 00:00[12/30/11 12:00 AM]; ExpDate=Production Release 20130731 00:00[7/31/13 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2067 ?time-slice TS2424)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | CONR | HMIR | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "Cost_Qual" | "LSO" | "Rate_Est")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216631 216630 216632)))
      ;;;  Category: HARP FHLMC, HARP FNMA, HARP FNMA LDP
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40975-R6-25484-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "12/30/2011 00:00"
      :adjustment-exp-date "07/31/2013 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "First Tennessee - 45 Day Refi Net1_Refi_Products"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40975-R31-25485-D06-12-2013-T06-43-28 "Retired_PSS_Commitment Base Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20111230 00:00[12/30/11 12:00 AM]; ExpDate=Production Release 20120727 00:00[7/27/12 12:00 AM] for template 34092"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2067 ?time-slice TS2204)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount &:(> ?totalloanamount 601450.00))
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype &  ~ 4U &  ~ 3U &  ~ 2U)
      (mbx:InternalGeographyId ?internalgeographyid &:(pe:entity-match :type geographicalarea :id ?internalgeographyid :time-slice ?time-slice :category (build$ 100992)))
      ;;;  Category: FAIRFIELD
      )
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17937 17938 17942 203486 203672 17943 203488 203671)))
      ;;;  Entity: R01, R02, R04, R05, R06, R08, R09, R10
      )
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40975-R31-25485-D06-12-2013-T06-43-28
      :template-id 34092
      :adjustment-eff-date "12/30/2011 00:00"
      :adjustment-exp-date "07/27/2012 00:00"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind Y
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "PM Init 2232 - ConfPlus > All Lock Lengths_1Unit > $575000"
      :template-id 34092
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R1-29907-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=1; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009 25011) :exclude-flag t))
      ;;;  Category: Burnet, Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R1-29907-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Base"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R2-29908-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=2; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009)))
      ;;;  Category: Burnet
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R2-29908-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj 0.25
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Burnet"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R3-29909-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=3; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40081 40082 40083 40103 40114 40127 40128 40131 40256 40257 40279 40281 40284 40286 40287 40288 40289 40290 40313 40315 17942 203486 17943 203488 41100 41103)))
      ;;;  Entity: 146, 147, 148, 220, 323, 423, 500, 520, 37C, 37N, 58C, 58N, 61M, 63M, 64M, 65M, 66M, 67M, 78C, 78N, R04, R05, R08, R09, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R3-29909-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 0.1
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Charles Schwab_Invested Pgms"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R4-29910-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=4; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40081 40082 40083 40103 40114 40127 40128 40131 40256 40257 40279 40281 40284 40286 40287 40288 40289 40290 40313 40315 17942 203486 17943 203488 41100 41103) :exclude-flag t))
      ;;;  Entity: 146, 147, 148, 220, 323, 423, 500, 520, 37C, 37N, 58C, 58N, 61M, 63M, 64M, 65M, 66M, 67M, 78C, 78N, R04, R05, R08, R09, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R4-29910-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Charles Schwab_Non-Invested Pgms"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R5-29911-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=5; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R5-29911-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 30 Day Gov 15 Yr Fixed"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R6-29912-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=6; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45025 45034) :entity (build$ 40942)))
      ;;;  Category: Adjustable, FHA, VAEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R6-29912-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 30 Day Gov ARM"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R7-29913-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=7; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45025 45034 45044 45052 45056 45058 45045 45047) :entity (build$ 40942)))
      ;;;  Category: FHA, VA, 1 yr, 3 yr, 5 yr, 7 yr, 10 yr, 15 yrEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R7-29913-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 1.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 60 Day Gov 15 Yr Fixed & Gov ARM"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R8-29914-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45060 45025 45034 45044 45045 45047 45052 45056 45058) :entity (build$ 40942)))
      ;;;  Category: Adjustable, Fixed, FHA, VA, 1 yr, 10 yr, 15 yr, 3 yr, 5 yr, 7 yrEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R8-29914-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 1.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "90 Day Rate Prot Govt 15 Yr & Govt ARM"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R9-29915-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=9; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45060 45025 45034 45044 45045 45047 45052 45056 45058) :entity (build$ 40942)))
      ;;;  Category: Adjustable, Fixed, FHA, VA, 1 yr, 10 yr, 15 yr, 3 yr, 5 yr, 7 yrEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R9-29915-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 1.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 6
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "90 Day Rate Prot Govt 15 Yr & Govt ARM PPRP"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R10-29916-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25032) :exclude-flag t))
      ;;;  Category: Northern Trust
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 0))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45025 45026 45031 45034) :exclude-flag t))
      ;;;  Category: Bond, FHA, HELOC, Second, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R10-29916-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "0 Day Float"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R11-29917-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=11; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 0))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45043 45051 45057)))
      ;;;  Category: Adjustable, 1 mo, 3 mo, 6 mo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R11-29917-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "0 Day Float - 1-6 mo ARM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R12-29918-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=12; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 0))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45025 45034 45060 45047)))
      ;;;  Category: FHA, VA, Fixed, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R12-29918-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "0 Day Float - 15 yr Gov Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R13-29919-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=13; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 0))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40935 40936 40937 40938)))
      ;;;  Entity: PD1, PD2, PD3, PD4
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R13-29919-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "0 Day Float - PD1-4"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R14-29920-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=14; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 0))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17542 17540 17827 17830)))
      ;;;  Entity: U50, U51, U52, U53
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R14-29920-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "0 Day Float - U50-53"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R15-29921-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=15; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40207 40208 40209 40210 40211 40212 40213 40214)))
      ;;;  Entity: 791, 792, 793, 794, 795, 796, 797, 798
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R15-29921-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "0-60 Day Lock/Float - Blended Products"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R16-29922-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=16; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45043 45051 45057 45040)))
      ;;;  Category: 1 mo, 3 mo, 6 mo, First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R16-29922-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "0-60 Day Lock/Float - 1-6 mo ARM Net 1/2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R17-29923-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=17; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40238)))
      ;;;  Entity: 971
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R17-29923-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "0-60 Day Lock/Float - 971"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R18-29924-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=18; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45039 45038 45036 45037) :exclude-flag t))
      ;;;  Category: Bridge, Hybrid, Piggyback, Standalone
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R18-29924-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 50.0
      :point-adj -0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "10 Day Lock - Tier 3 Warning"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R19-29925-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100915[9/15/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1750)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45039 45038 45036 45037) :exclude-flag t))
      ;;;  Category: Bridge, Hybrid, Piggyback, Standalone
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R19-29925-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "09/15/2010 09:30"
      :rate-adj nil
      :point-adj -0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "10 Day Lock - Tier 6/7"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R20-29926-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 11 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R20-29926-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.3
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R21-29927-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100915[9/15/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1750)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R21-29927-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "09/15/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R22-29928-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25004)))
      ;;;  Category: Banco Popular
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40097 40108)))
      ;;;  Entity: 188, 288
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R22-29928-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock Banco Off set NWC"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R23-29929-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100915[9/15/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1750)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 16 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R23-29929-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "09/15/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R24-29930-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100915[9/15/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1750)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R24-29930-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "09/15/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R25-29931-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R25-29931-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - OFFSET Net 1/2 Refi UBS"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R26-29932-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R26-29932-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Construction Net 1/2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R27-29933-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R27-29933-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Construction Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R28-29934-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=28; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40922)))
      ;;;  Entity: P30
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R28-29934-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - OFFSET P30"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R29-29935-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=29; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R29-29935-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day - First Tennessee"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R30-29936-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R30-29936-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R31-29937-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25002 25010 25026 25030 25038 25042)))
      ;;;  Category: Axiom, Central Pacific, Landover, NE Moves, Princeton, Sunbelt
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040) :entity (build$ 40668 40670 40660 40662 40672)))
      ;;;  Category: FirstEntity: H60, H62, H50, H52, H70
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R31-29937-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 20
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Rate Prot Tier 6,7 (SubCorps)"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R32-29938-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25002 25010 25026 25030 25038 25042)))
      ;;;  Category: Axiom, Central Pacific, Landover, NE Moves, Princeton, Sunbelt
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | OTFD)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040) :entity (build$ 40668 40670 40660 40662 40672)))
      ;;;  Category: FirstEntity: H60, H62, H50, H52, H70
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R32-29938-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 20
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Rate Prot Tier 6,7 (SubCorps)"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R33-29939-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25002 25010 25026 25030 25038 25042)))
      ;;;  Category: Axiom, Central Pacific, Landover, NE Moves, Princeton, Sunbelt
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45060 45025 45034 45044 45045 45047 45052 45056 45058) :entity (build$ 40942)))
      ;;;  Category: Adjustable, Fixed, FHA, VA, 1 yr, 10 yr, 15 yr, 3 yr, 5 yr, 7 yrEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R33-29939-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.875
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 25
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Rate Prot Govt 15 Yr & Govt ARM Tier 6,7 (SubCorps)"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R34-29940-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25002 25010 25026 25030 25038 25042)))
      ;;;  Category: Axiom, Central Pacific, Landover, NE Moves, Princeton, Sunbelt
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45060 45025 45034 45044 45045 45047 45052 45056 45058) :entity (build$ 40942)))
      ;;;  Category: Adjustable, Fixed, FHA, VA, 1 yr, 10 yr, 15 yr, 3 yr, 5 yr, 7 yrEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R34-29940-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 20
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day 1xfd Govt 15 Yr & Govt ARM Tier 6,7 (SubCorps)"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R35-29941-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17542 17540)))
      ;;;  Entity: U50, U51
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R35-29941-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 20
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Rate Protect/OTFD - U50, U51"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R36-29942-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25002 25010 25026 25030 25038 25042)))
      ;;;  Category: Axiom, Central Pacific, Landover, NE Moves, Princeton, Sunbelt
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 46 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45060 45025 45034 45044 45045 45047 45052 45056 45058) :entity (build$ 40942)))
      ;;;  Category: Adjustable, Fixed, FHA, VA, 1 yr, 10 yr, 15 yr, 3 yr, 5 yr, 7 yrEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R36-29942-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 1.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 25
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "60 Day Rate Prot Govt 15 Yr & Govt ARM Tier 6,7 (SubCorps)"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R37-29943-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R37-29943-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "60 Day Lock -Construction"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R38-29944-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R38-29944-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock -Construction"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R39-29945-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100915[9/15/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1750)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022) :exclude-flag t))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R39-29945-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "09/15/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R40-29946-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=40; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R40-29946-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock - GoldmanSachs"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R41-29947-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009 25011) :exclude-flag t))
      ;;;  Category: Burnet, Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R41-29947-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "90 Day Lock PPRP Cap"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R42-29948-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=42; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009)))
      ;;;  Category: Burnet
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R42-29948-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 0.25
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "90 Day Lock PPRP Cap_Burnet"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R43-29949-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=43; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40081 40082 40083 40103 40114 40127 40128 40131 40256 40257 40279 40281 40284 40286 40287 40288 40289 40290 40313 40315 17942 203486 17943 203488 41100 41103)))
      ;;;  Entity: 146, 147, 148, 220, 323, 423, 500, 520, 37C, 37N, 58C, 58N, 61M, 63M, 64M, 65M, 66M, 67M, 78C, 78N, R04, R05, R08, R09, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R43-29949-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 0.1
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "90 Day Lock PPRP Cap_Schwab Invested Pgms"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R44-29950-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=44; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40081 40082 40083 40103 40114 40127 40128 40131 40256 40257 40279 40281 40284 40286 40287 40288 40289 40290 40313 40315 17942 203486 17943 203488 41100 41103) :exclude-flag t))
      ;;;  Entity: 146, 147, 148, 220, 323, 423, 500, 520, 37C, 37N, 58C, 58N, 61M, 63M, 64M, 65M, 66M, 67M, 78C, 78N, R04, R05, R08, R09, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R44-29950-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "90 Day Lock PPRP Cap_Schwab NonInvested Pgms"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R45-29951-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=45; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R45-29951-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock PPRP"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R46-29952-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=46; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100915[9/15/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1750)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022) :exclude-flag t))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R46-29952-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "09/15/2010 09:30"
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R47-29953-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R47-29953-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 2.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - GoldmanSachs"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R48-29954-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R48-29954-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - GoldmanSachs WARNING"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R49-29955-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=49; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator N))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45017)))
      ;;;  Category: MBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R49-29955-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 0.0
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 25
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "MBS 75 Day Lock Tier 6,7"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R50-29956-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=50; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator N))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R50-29956-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 25
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "USAA 75 Day Rate Protect Tier 7"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R51-29957-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=51; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator N))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R51-29957-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 25
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 75 Day USAA Tier 7"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R52-29958-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=52; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40128 40136 40281 40315 40334)))
      ;;;  Entity: 220, 500, 554, 58N, 78N, 97N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode & "HCJS" | "HCEM"))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R52-29958-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment OFFSET Jumbo Pricing Special Investor 2"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code (create$ HCJS HCEM)
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R53-29959-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=53; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40281 40315 40334)))
      ;;;  Entity: 220, 58N, 78N, 97N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode & "J3" | "J3EM"))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R53-29959-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment OFFSET Jumbo Pricing Special Investor 3"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code (create$ J3 J3EM)
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R54-29960-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 204848 204842 204844 205759 205760 205761 207854 207855 207856)))
      ;;;  Entity: 501, 503, 504, 506, 507, 508, 567, 568, 569
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R54-29960-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Jumbo Investor 2 Offset"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R55-29961-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205758)))
      ;;;  Entity: 505
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R55-29961-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Jumbo Investor 3 Offset"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R56-29962-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 207366 207367 207368 207369 207370 207371 207372)))
      ;;;  Entity: 540, 541, 542, 543, 544, 545, 547
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R56-29962-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Jumbo Investor 4 Offset"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R57-29963-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 207701 207702 207703 207704 207705 207706 207707 207708)))
      ;;;  Entity: 548, 549, 551, 553, 557, 558, 559, 563
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R57-29963-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Jumbo Investor 5 Offset"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R58-29964-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=58; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100609 00:00[6/9/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1683)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 207709 207710 207711)))
      ;;;  Entity: 564, 565, 566
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R58-29964-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "06/09/2010 00:00"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Jumbo Investor 6 Offset"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R59-29965-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=59; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019)))
      ;;;  Category: Bond
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R59-29965-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment OFFSET Bond Products"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R60-29966-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=60; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45031)))
      ;;;  Category: Second
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R60-29966-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment OFFSET Closed End Seconds"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R61-29967-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=61; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427) :exclude-flag t))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 202326)))
      ;;;  Category: Jumbo Chase
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R61-29967-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment OFFSET Jumbo Chase 0-60 Days"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R62-29968-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=62; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100224[2/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1610)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 16458 16459)))
      ;;;  Category: Signature 293, Signature 294
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 0)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40129 40281 40288 40289)))
      ;;;  Entity: 220, 37N, 510, 58N, 65M, 66M
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R62-29968-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "02/24/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment OFFSET Signature Bank Invested"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R63-29969-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 41023 16581 41024 41025 41026 41027 41028 41029 41030 41031 41032 41033 41034 41035 41036 41037 41038 41039 41040)))
      ;;;  Entity: U07, U10, U21, U22, U30, U31, U40, U41, U42, U43, U44, U45, U80, U81, U82, U83, U90, U91, U92
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R63-29969-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment OFFSET U Products"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R64-29970-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=64; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17429)))
      ;;;  Category: Comerica
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 206413)))
      ;;;  Category: Comerica
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R64-29970-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment OFFSET Comerica Portfolio Pgms"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R65-29971-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=65; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17429)))
      ;;;  Category: Comerica
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 206413)))
      ;;;  Category: Comerica
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R65-29971-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment OFFSET Comerica Portfolio Pgms"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R66-29972-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=66; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40315)))
      ;;;  Entity: 220, 37N, 58N, 78N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R66-29972-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 0.0
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment OFFSET - Citizens Business Bank Invested Pgms"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R67-29973-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=67; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40315)))
      ;;;  Entity: 220, 37N, 58N, 78N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R67-29973-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj -0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment - Citizens Business Bank Invested Pgms_45 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R68-29974-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=68; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40315)))
      ;;;  Entity: 220, 37N, 58N, 78N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R68-29974-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment - Citizens Business Bank Invested Pgms_90 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R69-29975-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=69; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40315)))
      ;;;  Entity: 220, 37N, 58N, 78N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R69-29975-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "WARNING - Citizens Business Bank - Invested Pgms_90 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R70-29976-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=70; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100224[2/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1610)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R70-29976-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "02/24/2010 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Warning Diff - Rate Protected Days >90"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R71-29977-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=71; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100609 00:00[6/9/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1683)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17435 17436)))
      ;;;  Category: UBS 305, UBS 306
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R71-29977-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "06/09/2010 00:00"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS - 15 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R72-29978-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=72; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100609 00:00[6/9/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1683)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17435 17436)))
      ;;;  Category: UBS 305, UBS 306
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 16 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R72-29978-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "06/09/2010 00:00"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS - 30 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R73-29979-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=73; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100609 00:00[6/9/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1683)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17435 17436)))
      ;;;  Category: UBS 305, UBS 306
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R73-29979-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "06/09/2010 00:00"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS - 45 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R74-29980-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=74; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100609 00:00[6/9/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1683)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17435 17436)))
      ;;;  Category: UBS 305, UBS 306
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 46 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R74-29980-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "06/09/2010 00:00"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS - 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36007-R75-29981-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=75; Status=Production; EffDate=Production Release 20091106 00:00[11/6/09 12:00 AM]; ExpDate=Production Release 20100609 00:00[6/9/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1519 ?time-slice TS1683)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17435 17436)))
      ;;;  Category: UBS 305, UBS 306
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36007-R75-29981-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/06/2009 00:00"
      :adjustment-exp-date "06/09/2010 00:00"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS - 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R52-29982-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=52; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17631)))
      ;;;  Category: Burnet 8
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator N))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R52-29982-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.2
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 30
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "Burnet 75 Day Refinance Straight Lock"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R63-29983-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 16458 16459)))
      ;;;  Category: Signature 293, Signature 294
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 0)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40257 40129 40281 40288 40289)))
      ;;;  Entity: 37N, 510, 58N, 65M, 66M
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R63-29983-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Commitment OFFSET Signature Bank Invested"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R71-29984-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=71; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R71-29984-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Warning Diff - Rate Protected Days >90"
      :template-id 30074
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R77-29985-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=77; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100517 00:00[5/17/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1668)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode & "KCA5"))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R77-29985-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "05/17/2010 00:00"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 90 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code (create$ KCA5)
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R78-29986-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=78; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100517 00:00[5/17/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1668)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode & "KCA5"))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R78-29986-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "05/17/2010 00:00"
      :rate-adj nil
      :point-adj 0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 120 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code (create$ KCA5)
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R79-29987-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=79; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100517 00:00[5/17/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1668)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 121 ?lockdays 150)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode & "KCA5"))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R79-29987-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "05/17/2010 00:00"
      :rate-adj nil
      :point-adj 1.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 150 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code (create$ KCA5)
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R80-29988-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=80; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100517 00:00[5/17/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1668)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 151 ?lockdays 180)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode & "KCA5"))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R80-29988-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "05/17/2010 00:00"
      :rate-adj nil
      :point-adj 1.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 180 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code (create$ KCA5)
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R81-29989-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=81; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100517 00:00[5/17/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1668)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 181 ?lockdays 210)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode & "KCA5"))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R81-29989-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "05/17/2010 00:00"
      :rate-adj nil
      :point-adj 1.875
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 210 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code (create$ KCA5)
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R82-29990-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=82; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100517 00:00[5/17/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1668)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 211 ?lockdays 240)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode & "KCA5"))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R82-29990-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "05/17/2010 00:00"
      :rate-adj nil
      :point-adj 2.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 240 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code (create$ KCA5)
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R83-29991-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=83; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100517 00:00[5/17/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1668)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 241 ?lockdays 270)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode & "KCA5"))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R83-29991-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "05/17/2010 00:00"
      :rate-adj nil
      :point-adj 2.625
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 270 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code (create$ KCA5)
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R84-29992-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=84; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100517 00:00[5/17/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1668)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 271 ?lockdays 300)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode & "KCA5"))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R84-29992-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "05/17/2010 00:00"
      :rate-adj nil
      :point-adj 3.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 300 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code (create$ KCA5)
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R85-29993-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=85; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100517 00:00[5/17/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1668)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 301 ?lockdays 330)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode & "KCA5"))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R85-29993-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "05/17/2010 00:00"
      :rate-adj nil
      :point-adj 3.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 330 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code (create$ KCA5)
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R86-29994-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=86; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100517 00:00[5/17/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1668)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 331 ?lockdays 360)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode & "KCA5"))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R86-29994-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "05/17/2010 00:00"
      :rate-adj nil
      :point-adj 3.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 360 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code (create$ KCA5)
      :is-cumulative Y)
)


(define-rule GuidelineRule-36459-R87-29995-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=87; Status=Production; EffDate=Production Release 20100224[2/24/10 9:30 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1611 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 211343 211344 211345 211346 211347 211348 211349 211350 211351)))
      ;;;  Entity: KG1, KG2, KG3, KG4, KG5, KG6, KG7, KG8, KG9
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36459-R87-29995-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/24/2010 09:30"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - GoldKey Commitment Warning"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36946-R77-29996-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=77; Status=Production; EffDate=Production Release 20100517 00:00[5/17/10 12:00 AM]; ExpDate=Production Release 20100609 00:00[6/9/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1669 ?time-slice TS1683)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36946-R77-29996-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/17/2010 00:00"
      :adjustment-exp-date "06/09/2010 00:00"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 90 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36946-R78-29997-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=78; Status=Production; EffDate=Production Release 20100517 00:00[5/17/10 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1669 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36946-R78-29997-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/17/2010 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 120 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36946-R79-29998-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=79; Status=Production; EffDate=Production Release 20100517 00:00[5/17/10 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1669 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 121 ?lockdays 150)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36946-R79-29998-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/17/2010 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 1.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 150 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36946-R80-29999-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=80; Status=Production; EffDate=Production Release 20100517 00:00[5/17/10 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1669 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 151 ?lockdays 180)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36946-R80-29999-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/17/2010 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 1.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 180 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36946-R81-30000-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=81; Status=Production; EffDate=Production Release 20100517 00:00[5/17/10 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1669 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 181 ?lockdays 210)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36946-R81-30000-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/17/2010 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 1.875
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 210 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36946-R82-30001-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=82; Status=Production; EffDate=Production Release 20100517 00:00[5/17/10 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1669 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 211 ?lockdays 240)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36946-R82-30001-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/17/2010 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 2.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 240 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36946-R83-30002-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=83; Status=Production; EffDate=Production Release 20100517 00:00[5/17/10 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1669 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 241 ?lockdays 270)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36946-R83-30002-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/17/2010 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 2.625
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 270 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36946-R84-30003-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=84; Status=Production; EffDate=Production Release 20100517 00:00[5/17/10 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1669 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 271 ?lockdays 300)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36946-R84-30003-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/17/2010 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 3.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 300 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36946-R85-30004-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=85; Status=Production; EffDate=Production Release 20100517 00:00[5/17/10 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1669 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 301 ?lockdays 330)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36946-R85-30004-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/17/2010 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 3.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 330 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36946-R86-30005-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=86; Status=Production; EffDate=Production Release 20100517 00:00[5/17/10 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1669 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 331 ?lockdays 360)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36946-R86-30005-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/17/2010 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 3.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 360 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-36974-R30-30006-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20100519 00:00[5/19/10 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1670 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209363 209364)))
      ;;;  Category: Centra 343, Centra 344
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-36974-R30-30006-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/19/2010 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day - Centra - Purchase_Lock"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37110-R30-30007-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20100609 00:00[6/9/10 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1684 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37110-R30-30007-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/09/2010 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day - USE CU"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37110-R61-30008-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=61; Status=Production; EffDate=Production Release 20100609 00:00[6/9/10 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1684 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 207709 207710 207711 212111 212112 212113)))
      ;;;  Entity: 564, 565, 566, 509, 519, 570
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37110-R61-30008-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/09/2010 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Jumbo Investor 6 Offset"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37110-R74-30009-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=74; Status=Production; EffDate=Production Release 20100609 00:00[6/9/10 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1684 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17435 17436 211482 211483)))
      ;;;  Category: UBS 305, UBS 306, UBS 355, UBS 356
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37110-R74-30009-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/09/2010 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS - 15 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37110-R75-30010-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=75; Status=Production; EffDate=Production Release 20100609 00:00[6/9/10 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1684 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17435 17436 211482 211483)))
      ;;;  Category: UBS 305, UBS 306, UBS 355, UBS 356
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 16 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37110-R75-30010-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/09/2010 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS - 30 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37110-R76-30011-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=76; Status=Production; EffDate=Production Release 20100609 00:00[6/9/10 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1684 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17435 17436 211482 211483)))
      ;;;  Category: UBS 305, UBS 306, UBS 355, UBS 356
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37110-R76-30011-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/09/2010 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS - 45 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37110-R77-30012-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=77; Status=Production; EffDate=Production Release 20100609 00:00[6/9/10 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1684 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17435 17436 211482 211483)))
      ;;;  Category: UBS 305, UBS 306, UBS 355, UBS 356
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 46 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37110-R77-30012-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/09/2010 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS - 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37110-R78-30013-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=78; Status=Production; EffDate=Production Release 20100609 00:00[6/9/10 12:00 AM]; ExpDate=Production Release 20100813[8/13/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1684 ?time-slice TS1727)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17435 17436 211482 211483)))
      ;;;  Category: UBS 305, UBS 306, UBS 355, UBS 356
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37110-R78-30013-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/09/2010 00:00"
      :adjustment-exp-date "08/13/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS - 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37110-R79-30014-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=79; Status=Production; EffDate=Production Release 20100609 00:00[6/9/10 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1684 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37110-R79-30014-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/09/2010 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 30 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37110-R80-30015-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=80; Status=Production; EffDate=Production Release 20100609 00:00[6/9/10 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1684 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37110-R80-30015-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/09/2010 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 60 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37110-R81-30016-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=81; Status=Production; EffDate=Production Release 20100609 00:00[6/9/10 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1684 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37110-R81-30016-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/09/2010 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 90 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R1-30017-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=1; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110131[1/31/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1842)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R1-30017-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "01/31/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "OFFSET Commitment Rules - Construction Rate Protection 0-90 Days"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R2-30018-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=2; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110610 00:00[6/10/11 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1931)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205759 205760 205761 212112 207366 207367 207368 207369 207370 207371 207703 207704 207705 207706 207707 207708 207709 207710 207711 207854 207855 207856 212113 204848 204842 204844 205758 212111 212091 212092 212094 207372 207701 207702)))
      ;;;  Entity: 506, 507, 508, 519, 540, 541, 542, 543, 544, 545, 551, 553, 557, 558, 559, 563, 564, 565, 566, 567, 568, 569, 570, 501, 503, 504, 505, 509, 511, 512, 514, 547, 548, 549
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R2-30018-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "06/10/2011 00:00"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Jumbo Investor Products"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R3-30019-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=3; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019)))
      ;;;  Category: Bond
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R3-30019-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Bond Products"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R4-30020-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=4; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45031)))
      ;;;  Category: Second
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R4-30020-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Closed End Seconds"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R5-30021-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=5; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110131[1/31/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1842)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 41023 16581 41024 41025 41026 41027 41028 41029 41030 41031 41032 41033 41034 41035 41036 41037 41038 41039 41040)))
      ;;;  Entity: U07, U10, U21, U22, U30, U31, U40, U41, U42, U43, U44, U45, U80, U81, U82, U83, U90, U91, U92
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R5-30021-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "01/31/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - U Products"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R6-30022-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=6; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110131[1/31/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1842)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 16458 16459)))
      ;;;  Category: Signature 293, Signature 294
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40257 40129 40281 40288 40289)))
      ;;;  Entity: 37N, 510, 58N, 65M, 66M
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R6-30022-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "01/31/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Client Invested Signature Bank"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R8-30023-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110131[1/31/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1842)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R8-30023-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "01/31/2011 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 91+ Days WARNING"
      :template-id 30074
      :adjustment-type nil
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R10-30024-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40081 40082 40083 40103 40114 40127 40128 40131 40256 40257 40279 40281 40284 40286 40287 40288 40289 40290 40313 40315 17942 203486 17943 203488 41100 41103)))
      ;;;  Entity: 146, 147, 148, 220, 323, 423, 500, 520, 37C, 37N, 58C, 58N, 61M, 63M, 64M, 65M, 66M, 67M, 78C, 78N, R04, R05, R08, R09, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R10-30024-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj 0.1
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Charles Schwab Invested"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R11-30025-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=11; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40081 40082 40083 40103 40114 40127 40128 40131 40256 40257 40279 40281 40284 40286 40287 40288 40289 40290 40313 40315 17942 203486 17943 203488 41100 41103) :exclude-flag t))
      ;;;  Entity: 146, 147, 148, 220, 323, 423, 500, 520, 37C, 37N, 58C, 58N, 61M, 63M, 64M, 65M, 66M, 67M, 78C, 78N, R04, R05, R08, R09, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R11-30025-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Charles Schwab Non-Invested"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R12-30026-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=12; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009 25011) :exclude-flag t))
      ;;;  Category: Burnet, Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R12-30026-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Base"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R13-30027-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=13; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009)))
      ;;;  Category: Burnet
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R13-30027-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj 0.25
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Burnet"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R14-30028-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=14; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40081 40082 40083 40103 40114 40127 40128 40131 40256 40257 40279 40281 40284 40286 40287 40288 40289 40290 40313 40315 17942 203486 17943 203488 41100 41103)))
      ;;;  Entity: 146, 147, 148, 220, 323, 423, 500, 520, 37C, 37N, 58C, 58N, 61M, 63M, 64M, 65M, 66M, 67M, 78C, 78N, R04, R05, R08, R09, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R14-30028-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj 0.1
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Charles Schwab Invested"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R15-30029-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=15; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40081 40082 40083 40103 40114 40127 40128 40131 40256 40257 40279 40281 40284 40286 40287 40288 40289 40290 40313 40315 17942 203486 17943 203488 41100 41103) :exclude-flag t))
      ;;;  Entity: 146, 147, 148, 220, 323, 423, 500, 520, 37C, 37N, 58C, 58N, 61M, 63M, 64M, 65M, 66M, 67M, 78C, 78N, R04, R05, R08, R09, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R15-30029-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Charles Schwab Non-Invested"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R16-30030-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=16; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R16-30030-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock PPRP"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R17-30031-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=17; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45060 45025 45034 45044 45045 45047 45052 45056 45058) :entity (build$ 40942)))
      ;;;  Category: Adjustable, Fixed, FHA, VA, 1 yr, 10 yr, 15 yr, 3 yr, 5 yr, 7 yrEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R17-30031-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 1.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 6
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Gov 15 Yr Fixed & Govt ARM"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R20-30032-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R20-30032-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 1.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 60 Day Gov 15 Yr Fixed"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R21-30033-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45025 45034) :entity (build$ 40942)))
      ;;;  Category: Adjustable, FHA, VAEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R21-30033-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 1.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 60 Day Gov ARM"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R22-30034-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R22-30034-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 1.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 90 Day Gov 15 Yr Fixed"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R23-30035-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45025 45034) :entity (build$ 40942)))
      ;;;  Category: Adjustable, FHA, VAEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R23-30035-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 1.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 90 Day Gov ARM"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R27-30036-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays & 0))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 17827 17830)))
      ;;;  Entity: U52, U53
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R27-30036-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "0 Day Float - Citizens U52/U53"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R31-30037-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100915[9/15/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1750)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45039 45038 45036 45037) :exclude-flag t))
      ;;;  Category: Bridge, Hybrid, Piggyback, Standalone
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R31-30037-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/15/2010 09:30"
      :rate-adj 50.0
      :point-adj -0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "10 Day Lock - Tier 3 WARNING"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R37-30038-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25004)))
      ;;;  Category: Banco Popular
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40097 40108)))
      ;;;  Entity: 188, 288
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R37-30038-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Banco Popular NWC OFFSET"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R38-30039-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100915[9/15/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1750)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R38-30039-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/15/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - UBS Refinance OFFSET"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R39-30040-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R39-30040-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - First Tennessee Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R40-30041-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=40; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100915[9/15/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1750)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R40-30041-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/15/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - First Tennessee Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R41-30042-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100915[9/15/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1750)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R41-30042-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/15/2010 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - USE CU Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R42-30043-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=42; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209363 209364)))
      ;;;  Category: Centra 343, Centra 344
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R42-30043-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Centra Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R44-30044-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=44; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25002 25010 25026 25030 25038 25042)))
      ;;;  Category: Axiom, Central Pacific, Landover, NE Moves, Princeton, Sunbelt
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R44-30044-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 20
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "45 Day Rate Protection Cap - Tier 6/7 Subs"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R45-30045-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=45; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25002 25010 25026 25030 25038 25042)))
      ;;;  Category: Axiom, Central Pacific, Landover, NE Moves, Princeton, Sunbelt
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R45-30045-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 20
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Tier 6/7 Subs"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R46-30046-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=46; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25002 25010 25026 25030 25038 25042)))
      ;;;  Category: Axiom, Central Pacific, Landover, NE Moves, Princeton, Sunbelt
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45060 45025 45034 45044 45045 45047 45052 45056 45058) :entity (build$ 40942)))
      ;;;  Category: Adjustable, Fixed, FHA, VA, 1 yr, 10 yr, 15 yr, 3 yr, 5 yr, 7 yrEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R46-30046-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 25
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Tier 6/7 Subs - Govt 15 Yr Fixed & Govt ARM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R47-30047-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25002 25010 25026 25030 25038 25042)))
      ;;;  Category: Axiom, Central Pacific, Landover, NE Moves, Princeton, Sunbelt
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45060 45025 45034 45044 45045 45047 45052 45056 45058) :entity (build$ 40942)))
      ;;;  Category: Adjustable, Fixed, FHA, VA, 1 yr, 10 yr, 15 yr, 3 yr, 5 yr, 7 yrEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R47-30047-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 1.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 25
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "60 Day Rate Protection Cap - Tier 6/7 Subs - Govt 15 Yr Fixed & Govt ARM"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R48-30048-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100915[9/15/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1750)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator N))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R48-30048-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/15/2010 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 20
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Tier 6/7"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R49-30049-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=49; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100915[9/15/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1750)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator N))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R49-30049-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/15/2010 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 20
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "75 Day Rate Protection Cap - USAA"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R50-30050-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=50; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009)))
      ;;;  Category: Burnet
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator N))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R50-30050-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 0.2
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 30
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Burnet Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R52-30051-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=52; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R52-30051-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock - Goldman Sachs"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R54-30052-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R54-30052-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj 2.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - Goldman Sachs"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R55-30053-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R55-30053-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - Goldman Sachs WARNING"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R56-30054-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17429)))
      ;;;  Category: Comerica
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 206413)))
      ;;;  Category: Comerica
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R56-30054-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Comerica Invested 30 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R57-30055-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17429)))
      ;;;  Category: Comerica
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 206413)))
      ;;;  Category: Comerica
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R57-30055-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Comerica Invested 45 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R58-30056-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=58; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20120217[2/17/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS2101)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40315)))
      ;;;  Entity: 220, 37N, 58N, 78N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R58-30056-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "02/17/2012 09:30"
      :rate-adj 0.0
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested - Base Commitment Rule"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R59-30057-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=59; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40315)))
      ;;;  Entity: 220, 37N, 58N, 78N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R59-30057-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj -0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested 45 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R60-30058-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=60; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20120217[2/17/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS2101)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40315)))
      ;;;  Entity: 220, 37N, 58N, 78N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R60-30058-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "02/17/2012 09:30"
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R61-30059-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=61; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20120217[2/17/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS2101)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40315)))
      ;;;  Entity: 220, 37N, 58N, 78N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R61-30059-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "02/17/2012 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested 90 Day Lock WARNING"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R62-30060-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=62; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100922[9/22/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1756)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R62-30060-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/22/2010 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 15-60 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R63-30061-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20100922[9/22/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1756)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R63-30061-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "09/22/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 90 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R64-30062-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=64; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20110817[8/17/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS1978)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R64-30062-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "08/17/2011 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested Rate Protect Cap"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37561-R77-30063-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=77; Status=Production; EffDate=Production Release 20100813[8/13/10 9:30 AM]; ExpDate=Production Release 20111014[10/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1728 ?time-slice TS2020)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 211343 211344 211345 211346 211347 211348 211349 211350 211351)))
      ;;;  Entity: KG1, KG2, KG3, KG4, KG5, KG6, KG7, KG8, KG9
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37561-R77-30063-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/13/2010 09:30"
      :adjustment-exp-date "10/14/2011 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - GoldKey Commitment >90 Days WARNING"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R31-30064-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45039 45038 45036 45037) :exclude-flag t))
      ;;;  Category: Bridge, Hybrid, Piggyback, Standalone
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R31-30064-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj 50.0
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "10 Day Lock - Tier 3 WARNING"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R32-30065-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45039 45038 45036 45037) :exclude-flag t))
      ;;;  Category: Bridge, Hybrid, Piggyback, Standalone
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R32-30065-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj -0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "10 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R34-30066-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 16 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R34-30066-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R35-30067-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R35-30067-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R36-30068-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427) :exclude-flag t))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R36-30068-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R37-30069-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100922[9/22/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1756)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022 25028)))
      ;;;  Category: Goldman Sachs, Merrill Lynch
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R37-30069-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/22/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R38-30070-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R38-30070-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Construction"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R41-30071-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R41-30071-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - First Tennessee Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R42-30072-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=42; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100929[9/29/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1760)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R42-30072-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/29/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - First Tennessee Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R43-30073-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=43; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R43-30073-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - USE CU Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R50-30074-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=50; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator N))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R50-30074-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Tier 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R51-30075-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=51; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator N))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R51-30075-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Tier 6/7"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R53-30076-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=53; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20110207[2/7/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1848)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022) :exclude-flag t))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R53-30076-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "02/07/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R54-30077-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022) :exclude-flag t))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R54-30077-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R55-30078-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202687)))
      ;;;  Category: First Tennessee
      
      (mbx:businesstier ?businesstier & RII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R55-30078-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R56-30079-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20100922[9/22/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1756)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25028 17427)))
      ;;;  Category: Merrill Lynch, UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R56-30079-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "09/22/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R57-30080-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20110207[2/7/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1848)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022) :exclude-flag t))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R57-30080-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "02/07/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Construction"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R58-30081-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=58; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022) :exclude-flag t))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R58-30081-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37734-R60-30082-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=60; Status=Production; EffDate=Production Release 20100915[9/15/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1751 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022) :exclude-flag t))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37734-R60-30082-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/15/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37813-R37-30083-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20100922[9/22/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1757 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37813-R37-30083-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/22/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37813-R56-30084-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20100922[9/22/10 9:30 AM]; ExpDate=Production Release 20100924[9/24/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1757 ?time-slice TS1758)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37813-R56-30084-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/22/2010 09:30"
      :adjustment-exp-date "09/24/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37813-R69-30085-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=69; Status=Production; EffDate=Production Release 20100922[9/22/10 9:30 AM]; ExpDate=Production Release 20101110 00:00[11/10/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1757 ?time-slice TS1788)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37813-R69-30085-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/22/2010 09:30"
      :adjustment-exp-date "11/10/2010 00:00"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37813-R70-30086-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=70; Status=Production; EffDate=Production Release 20100922[9/22/10 9:30 AM]; ExpDate=Production Release 20101110 00:00[11/10/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1757 ?time-slice TS1788)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37813-R70-30086-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/22/2010 09:30"
      :adjustment-exp-date "11/10/2010 00:00"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R7-30087-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=7; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT | OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45043 45051 45057 45040)))
      ;;;  Category: 1 mo, 3 mo, 6 mo, First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R7-30087-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - 1,3,6 mo ARM Net 1/2 0-60 Days"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R8-30088-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT | OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40238)))
      ;;;  Entity: 971
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R8-30088-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Rural Dee 0-60 Days"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R26-30089-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R26-30089-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj 50.0
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "10 Day Lock - Tier 3 WARNING"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R27-30090-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R27-30090-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "10 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R29-30091-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=29; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 16 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R29-30091-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R30-30092-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110406[4/6/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1887)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R30-30092-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "04/06/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R31-30093-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110406[4/6/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1887)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R31-30093-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "04/06/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R32-30094-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110131[1/31/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1842)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R32-30094-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "01/31/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Construction"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R33-30095-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110131[1/31/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1842)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25004)))
      ;;;  Category: Banco Popular
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40097 40108)))
      ;;;  Entity: 188, 288
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R33-30095-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "01/31/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Banco Popular NWC OFFSET"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R46-30096-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=46; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110131[1/31/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1842)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202687)))
      ;;;  Category: First Tennessee
      
      (mbx:businesstier ?businesstier & RII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R46-30096-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "01/31/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R47-30097-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20101029[10/29/10 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1779)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R47-30097-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "10/29/2010 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R52-30098-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=52; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110817[8/17/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1978)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R52-30098-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "08/17/2011 09:30"
      :rate-adj nil
      :point-adj 2.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - Goldman Sachs"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R53-30099-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=53; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110817[8/17/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1978)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R53-30099-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "08/17/2011 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - Goldman Sachs WARNING"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R54-30100-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17429)))
      ;;;  Category: Comerica
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 206413)))
      ;;;  Category: Comerica
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R54-30100-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Comerica Invested 30 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R55-30101-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17429)))
      ;;;  Category: Comerica
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 206413)))
      ;;;  Category: Comerica
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R55-30101-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Comerica Invested 45 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37832-R57-30102-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20100924[9/24/10 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1759 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40315)))
      ;;;  Entity: 220, 37N, 58N, 78N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37832-R57-30102-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/24/2010 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj -0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested 45 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37856-R34-30103-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20100929[9/29/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1761 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37856-R34-30103-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/29/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - First Tennessee Refinance Tier 2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-37856-R36-30104-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20100929[9/29/10 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1761 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-37856-R36-30104-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "09/29/2010 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - First Tennessee Refinance Tier 2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-38219-R33-30105-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20101110 00:00[11/10/10 12:00 AM]; ExpDate=Production Release 20101123 00:00[11/23/10 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1789 ?time-slice TS1797)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40128 40281)))
      ;;;  Entity: 500, 58N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-38219-R33-30105-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/10/2010 00:00"
      :adjustment-exp-date "11/23/2010 00:00"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "30 Day Lock - Net 1/2 Purchase - OFFSET - USE CU"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-38219-R61-30106-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=61; Status=Production; EffDate=Production Release 20101110 00:00[11/10/10 12:00 AM]; ExpDate=Production Release 20110325[3/25/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1789 ?time-slice TS1880)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-38219-R61-30106-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/10/2010 00:00"
      :adjustment-exp-date "03/25/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 60 Day Lock - Purchase"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-38219-R62-30107-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=62; Status=Production; EffDate=Production Release 20101110 00:00[11/10/10 12:00 AM]; ExpDate=Production Release 20110325[3/25/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1789 ?time-slice TS1880)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-38219-R62-30107-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/10/2010 00:00"
      :adjustment-exp-date "03/25/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 90 Day Lock - Purchase"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-38219-R63-30108-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20101110 00:00[11/10/10 12:00 AM]; ExpDate=Production Release 20110325[3/25/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1789 ?time-slice TS1880)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-38219-R63-30108-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/10/2010 00:00"
      :adjustment-exp-date "03/25/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 75 Day Lock - Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-38219-R64-30109-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=64; Status=Production; EffDate=Production Release 20101110 00:00[11/10/10 12:00 AM]; ExpDate=Production Release 20110325[3/25/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1789 ?time-slice TS1880)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-38219-R64-30109-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/10/2010 00:00"
      :adjustment-exp-date "03/25/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 90 Day Lock - Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-38315-R33-30110-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20101123 00:00[11/23/10 12:00 AM]; ExpDate=Production Release 20110131[1/31/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1798 ?time-slice TS1842)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40281 213870 40128)))
      ;;;  Entity: 58N, U96, 500
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-38315-R33-30110-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "11/23/2010 00:00"
      :adjustment-exp-date "01/31/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "30 Day Lock - Net 1/2 Purchase - OFFSET - USE CU"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39043-R1-30111-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=1; Status=Production; EffDate=Production Release 20110131[1/31/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1843 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39043-R1-30111-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "01/31/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Construction Rate Protection 0-90 Days"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39043-R5-30112-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=5; Status=Production; EffDate=Production Release 20110131[1/31/11 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1843 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 41034 41036)))
      ;;;  Entity: U80, U82
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39043-R5-30112-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "01/31/2011 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Client Invested Banco Popular U80/U82"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39043-R6-30113-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=6; Status=Production; EffDate=Production Release 20110131[1/31/11 9:30 AM]; ExpDate=Production Release 20120217[2/17/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1843 ?time-slice TS2101)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 16458 16459)))
      ;;;  Category: Signature 293, Signature 294
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40257 40129 40281 40288 40289)))
      ;;;  Entity: 37N, 510, 58N, 65M, 66M
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39043-R6-30113-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "01/31/2011 09:30"
      :adjustment-exp-date "02/17/2012 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Client Invested Signature Bank"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39043-R10-30114-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20110131[1/31/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1843 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39043-R10-30114-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "01/31/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 91+ Days WARNING"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39043-R32-30115-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20110131[1/31/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1843 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | HMIP)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39043-R32-30115-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "01/31/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Construction"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39043-R33-30116-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20110131[1/31/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1843 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40281 213870 40128)))
      ;;;  Entity: 58N, U96, 500
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39043-R33-30116-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "01/31/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Purchase - OFFSET - USE CU"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39043-R34-30117-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20110131[1/31/11 9:30 AM]; ExpDate=Production Release 20110309[3/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1843 ?time-slice TS1866)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25004)))
      ;;;  Category: Banco Popular
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40097 40108)))
      ;;;  Entity: 188, 288
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39043-R34-30117-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "01/31/2011 09:30"
      :adjustment-exp-date "03/09/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Purchase - OFSET - Banco Popular NWC"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39043-R48-30118-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20110131[1/31/11 9:30 AM]; ExpDate=Production Release 20110207[2/7/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1843 ?time-slice TS1848)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24002 24003 25003 202687 209043 206133 206134)))
      ;;;  Category: Real Estate, Relocation, Retail, AZFCU, First Tennessee, KeyBank, Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39043-R48-30118-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "01/31/2011 09:30"
      :adjustment-exp-date "02/07/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39065-R47-30119-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20110207[2/7/11 9:30 AM]; ExpDate=Production Release 20110815[8/15/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1849 ?time-slice TS1976)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022) :exclude-flag t))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39065-R47-30119-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/07/2011 09:30"
      :adjustment-exp-date "08/15/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39065-R48-30120-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20110207[2/7/11 9:30 AM]; ExpDate=Production Release 20110325[3/25/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1849 ?time-slice TS1880)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25028 17427)))
      ;;;  Category: Merrill Lynch, UBS
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39065-R48-30120-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "02/07/2011 09:30"
      :adjustment-exp-date "03/25/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R18-30121-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=18; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R18-30121-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock PPRP - Net 1/2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R19-30122-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R19-30122-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock PPRP - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R20-30123-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110822[8/22/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1982)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R20-30123-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "08/22/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock PPRP - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R21-30124-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R21-30124-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 30 Day Gov 15 Yr Fixed - Net 1/2"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R22-30125-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R22-30125-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 30 Day Gov 15 Yr Fixed - Net 3"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R26-30126-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R26-30126-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 1.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 90 Day Gov 15 Yr Fixed - Net 1/2"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R27-30127-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R27-30127-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 1.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 90 Day Gov 15 Yr Fixed - Net 3"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R28-30128-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=28; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45025 45034) :entity (build$ 40942)))
      ;;;  Category: Adjustable, FHA, VAEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R28-30128-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 1.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 90 Day Gov ARM - Net 1/2"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R29-30129-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=29; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45025 45034) :entity (build$ 40942)))
      ;;;  Category: Adjustable, FHA, VAEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R29-30129-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 1.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 5
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 90 Day Gov ARM - Net 3"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R30-30130-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R30-30130-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 1.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 6
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Gov 15 Yr Fixed - Net 1/2"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R31-30131-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R31-30131-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 1.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 6
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Gov 15 Yr Fixed - Net 3"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R32-30132-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45025 45034) :entity (build$ 40942)))
      ;;;  Category: Adjustable, FHA, VAEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R32-30132-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 1.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 6
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Gov ARM - Net 1/2"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R33-30133-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45025 45034) :entity (build$ 40942)))
      ;;;  Category: Adjustable, FHA, VAEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R33-30133-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 1.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 6
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Gov ARM - Net 3"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R34-30134-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R34-30134-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj 50.0
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - Tier 3 WARNING"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R35-30135-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R35-30135-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj -0.8
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "10 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R36-30136-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110822[8/22/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1982)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R36-30136-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "08/22/2011 09:30"
      :rate-adj nil
      :point-adj -0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "10 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R37-30137-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 11 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R37-30137-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj -0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R38-30138-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110822[8/22/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1982)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 11 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R38-30138-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "08/22/2011 09:30"
      :rate-adj nil
      :point-adj -0.3
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R41-30139-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110401[4/1/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1885)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R41-30139-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "04/01/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Refinance - First Tenn T2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R44-30140-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=44; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25004)))
      ;;;  Category: Banco Popular
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40097 40108)))
      ;;;  Entity: 188, 288
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R44-30140-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Purchase - OFFSET - Banco Popular NWC"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R45-30141-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=45; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 16 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R45-30141-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj -0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R46-30142-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=46; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110822[8/22/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1982)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 16 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R46-30142-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "08/22/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R47-30143-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110401[4/1/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1885)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209363 209364)))
      ;;;  Category: Centra 343, Centra 344
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R47-30143-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "04/01/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Net 1/2 Purchase - Centra"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R48-30144-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110401[4/1/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1885)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R48-30144-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "04/01/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Net 1/2 Purchase - First Tenn"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R49-30145-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=49; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110401[4/1/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1885)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202688 202689)))
      ;;;  Category: First Tennessee 326, First Tennessee 327
      
      (mbx:businesstier ?businesstier & RII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R49-30145-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "04/01/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Net 1/2 Refinance - First Tenn T2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R50-30146-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=50; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R50-30146-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj -0.2
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R51-30147-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=51; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20111014[10/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS2020)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R51-30147-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "10/14/2011 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R53-30148-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=53; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110817[8/17/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1978)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R53-30148-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "08/17/2011 09:30"
      :rate-adj nil
      :point-adj 0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Goldman Sachs"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R55-30149-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator N))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R55-30149-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R56-30150-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110817[8/17/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1978)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022) :exclude-flag t))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R56-30150-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "08/17/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock - Net 1/2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R57-30151-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110817[8/17/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1978)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R57-30151-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "08/17/2011 09:30"
      :rate-adj nil
      :point-adj 0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock - Goldman Sachs"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R58-30152-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=58; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R58-30152-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R59-30153-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=59; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110822[8/22/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1982)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R59-30153-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "08/22/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R60-30154-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=60; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110817[8/17/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1978)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022) :exclude-flag t))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R60-30154-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "08/17/2011 09:30"
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - Net 1/2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R63-30155-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R63-30155-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39158-R64-30156-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=64; Status=Production; EffDate=Production Release 20110309[3/9/11 9:30 AM]; ExpDate=Production Release 20110822[8/22/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1867 ?time-slice TS1982)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39158-R64-30156-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/09/2011 09:30"
      :adjustment-exp-date "08/22/2011 09:30"
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39395-R54-30157-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20110325[3/25/11 9:30 AM]; ExpDate=Production Release 20110401[4/1/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1881 ?time-slice TS1885)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25028)))
      ;;;  Category: Merrill Lynch
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39395-R54-30157-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/25/2011 09:30"
      :adjustment-exp-date "04/01/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39395-R72-30158-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=72; Status=Production; EffDate=Production Release 20110325[3/25/11 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1881 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39395-R72-30158-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/25/2011 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39395-R73-30159-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=73; Status=Production; EffDate=Production Release 20110325[3/25/11 9:30 AM]; ExpDate=Production Release 20111005[10/5/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1881 ?time-slice TS2014)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39395-R73-30159-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "03/25/2011 09:30"
      :adjustment-exp-date "10/05/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39434-R41-30160-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20110401[4/1/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1886 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202687)))
      ;;;  Category: First Tennessee
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39434-R41-30160-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "04/01/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Refinance - First Tennessee"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39434-R47-30161-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20110401[4/1/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1886 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209363 209364)))
      ;;;  Category: Centra 343, Centra 344
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39434-R47-30161-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "04/01/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Centra Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39434-R48-30162-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20110401[4/1/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1886 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202687)))
      ;;;  Category: First Tennessee
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39434-R48-30162-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "04/01/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - First Tennessee"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39567-R39-30163-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20110406[4/6/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1888 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022) :exclude-flag t))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR | PNC)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39567-R39-30163-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "04/06/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39567-R84-30164-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=84; Status=Production; EffDate=Production Release 20110406[4/6/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1888 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 1)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39567-R84-30164-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "04/06/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested Rate Protect Cap Rate"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39567-R85-30165-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=85; Status=Production; EffDate=Production Release 20110406[4/6/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1888 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39567-R85-30165-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "04/06/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested Rate Protect Cap Point"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39567-R86-30166-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=86; Status=Production; EffDate=Production Release 20110406[4/6/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1888 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39567-R86-30166-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "04/06/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested 30 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39567-R87-30167-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=87; Status=Production; EffDate=Production Release 20110406[4/6/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1888 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39567-R87-30167-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "04/06/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39567-R88-30168-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=88; Status=Production; EffDate=Production Release 20110406[4/6/11 9:30 AM]; ExpDate=Production Release 20110513[5/13/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1888 ?time-slice TS1913)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39567-R88-30168-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "04/06/2011 09:30"
      :adjustment-exp-date "05/13/2011 09:30"
      :rate-adj nil
      :point-adj 0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R8-30169-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20111111 00:00[11/11/11 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2038)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT | OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40238)))
      ;;;  Entity: 971
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R8-30169-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "11/11/2011 00:00"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Rural Dee 0-60 Days"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R10-30170-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45025 45034) :entity (build$ 40942)))
      ;;;  Category: Adjustable, FHA, VAEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R10-30170-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Gov ARM WARNING"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R11-30171-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=11; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009) :exclude-flag t))
      ;;;  Category: Burnet
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047) :exclude-flag t))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R11-30171-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Base"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R12-30172-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=12; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009)))
      ;;;  Category: Burnet
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047) :exclude-flag t))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R12-30172-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 0.25
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Burnet"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R13-30173-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=13; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40081 40082 40083 40103 40114 40127 40128 40131 40256 40257 40279 40281 40284 40286 40287 40288 40289 40290 40313 40315 17942 203486 17943 203488 41100 41103)))
      ;;;  Entity: 146, 147, 148, 220, 323, 423, 500, 520, 37C, 37N, 58C, 58N, 61M, 63M, 64M, 65M, 66M, 67M, 78C, 78N, R04, R05, R08, R09, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R13-30173-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj -0.1
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Charles Schwab Invested Offset"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R14-30174-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=14; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R14-30174-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 1.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Gov 15 yr Fixed"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R15-30175-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=15; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20110914[9/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS1997)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009) :exclude-flag t))
      ;;;  Category: Burnet
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047) :exclude-flag t))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R15-30175-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "09/14/2011 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Base"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R16-30176-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=16; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20110914[9/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS1997)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009)))
      ;;;  Category: Burnet
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047) :exclude-flag t))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R16-30176-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "09/14/2011 09:30"
      :rate-adj 0.25
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Burnet"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R17-30177-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=17; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20110914[9/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS1997)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40081 40082 40083 40103 40114 40127 40128 40131 40256 40257 40279 40281 40284 40286 40287 40288 40289 40290 40313 40315 17942 203486 17943 203488 41100 41103)))
      ;;;  Entity: 146, 147, 148, 220, 323, 423, 500, 520, 37C, 37N, 58C, 58N, 61M, 63M, 64M, 65M, 66M, 67M, 78C, 78N, R04, R05, R08, R09, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R17-30177-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "09/14/2011 09:30"
      :rate-adj -0.1
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Charles Schwab Invested Offset"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R18-30178-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=18; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20110914[9/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS1997)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R18-30178-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "09/14/2011 09:30"
      :rate-adj nil
      :point-adj 1.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Gov 15 yr Fixed"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R20-30179-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20110914[9/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS1997)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 76)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R20-30179-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "09/14/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "90 Day Lock PPRP - Net 3"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R22-30180-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R22-30180-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - Tier 3 WARNING"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R23-30181-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20110610 00:00[6/10/11 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS1931)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R23-30181-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "06/10/2011 00:00"
      :rate-adj nil
      :point-adj -0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R26-30182-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20110817[8/17/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS1978)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022) :exclude-flag t))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R26-30182-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "08/17/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R29-30183-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=29; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40281 213870 40128)))
      ;;;  Entity: 58N, U96, 500
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R29-30183-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Purchase - OFFSET - USE CU"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R30-30184-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25004)))
      ;;;  Category: Banco Popular
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40097 40108)))
      ;;;  Entity: 188, 288
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R30-30184-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Purchase - OFFSET - Banco Popular NWC"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R32-30185-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209363 209364)))
      ;;;  Category: Centra 343, Centra 344
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R32-30185-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Centra Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R37-30186-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20110822[8/22/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS1982)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator N))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R37-30186-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "08/22/2011 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R40-30187-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=40; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R40-30187-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "90 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R45-30188-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=45; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R45-30188-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj 0.625
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "120 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R47-30189-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20110817[8/17/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS1978)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R47-30189-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "08/17/2011 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested Rate Protect Cap Rate"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R48-30190-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R48-30190-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R49-30191-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=49; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20110824[8/24/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS1984)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R49-30191-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "08/24/2011 09:30"
      :rate-adj nil
      :point-adj 0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested 60+ Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R51-30192-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=51; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20120217[2/17/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS2101)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40315)))
      ;;;  Entity: 220, 37N, 58N, 78N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R51-30192-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "02/17/2012 09:30"
      :rate-adj -0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested 45 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R54-30193-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20110902 00:00[9/2/11 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS1990)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17429)))
      ;;;  Category: Comerica
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 206413)))
      ;;;  Category: Comerica
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R54-30193-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "09/02/2011 00:00"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Comerica Invested 30 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39713-R55-30194-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20110513[5/13/11 9:30 AM]; ExpDate=Production Release 20110902 00:00[9/2/11 12:00 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1914 ?time-slice TS1990)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17429)))
      ;;;  Category: Comerica
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 206413)))
      ;;;  Category: Comerica
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39713-R55-30194-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "05/13/2011 09:30"
      :adjustment-exp-date "09/02/2011 00:00"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Comerica Invested 45 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39900-R2-30195-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=2; Status=Production; EffDate=Production Release 20110610 00:00[6/10/11 12:00 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1932 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205759 205760 205761 212112 207366 207367 207368 207369 207370 207371 207703 207704 207705 207706 207707 207708 207709 207710 207711 207854 207855 207856 212113 204848 204842 204844 205758 212111 212091 212092 212094 207372 207701 207702 212096 212098 212100 212101 212102 212103 212104 212106 212107 212108 212109 212110)))
      ;;;  Entity: 506, 507, 508, 519, 540, 541, 542, 543, 544, 545, 551, 553, 557, 558, 559, 563, 564, 565, 566, 567, 568, 569, 570, 501, 503, 504, 505, 509, 511, 512, 514, 547, 548, 549, 516, 518, 523, 524, 526, 528, 529, 572, 573, 574, 576, 578
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39900-R2-30195-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/10/2011 00:00"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Jumbo Investor Products"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39900-R23-30196-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20110610 00:00[6/10/11 12:00 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1932 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode &  ~ "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39900-R23-30196-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/10/2011 00:00"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj -0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - Net 3"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-39900-R72-30197-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=72; Status=Production; EffDate=Production Release 20110610 00:00[6/10/11 12:00 AM]; ExpDate=Production Release 20110815[8/15/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1932 ?time-slice TS1976)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-39900-R72-30197-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "06/10/2011 00:00"
      :adjustment-exp-date "08/15/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 999
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Mandatory Commitment"
      :template-id 30074
      :adjustment-type nil
      :adjustment-sub-type Mandatory_Commitment
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40048-R71-30198-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=71; Status=Production; EffDate=Production Release 20110715 00:00[7/15/11 12:00 AM]; ExpDate=Production Release 20110928[9/28/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1955 ?time-slice TS2008)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40048-R71-30198-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "07/15/2011 00:00"
      :adjustment-exp-date "09/28/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 75 Day Lock Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40155-R35-30199-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20110805[8/5/11 9:30 AM]; ExpDate=Production Release 20110822[8/22/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1971 ?time-slice TS1982)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40155-R35-30199-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/05/2011 09:30"
      :adjustment-exp-date "08/22/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - USE CU Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40197-R1-30200-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=1; Status=Production; EffDate=Production Release 20110815[8/15/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1977 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40197-R1-30200-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/15/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Mandatory Commitment"
      :template-id 30074
      :adjustment-type nil
      :adjustment-sub-type Mandatory_Commitment
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40197-R37-30201-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20110815[8/15/11 9:30 AM]; ExpDate=Production Release 20110817[8/17/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1977 ?time-slice TS1978)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022 24001 26122 25005 211765 211970 25012 202833 25032 213368 17427 25044 17433 17434 202511 202512 202574 202575 205848 205849 209942 209943 212033 212034) :exclude-flag t))
      ;;;  Category: Goldman Sachs, Real Estate, Portfolio 35, BankAtlantic, BankUnited, Centra, Citizens, E-Trade, Northern Trust, Signature, UBS, UMB, Standard FI 307, Standard FI 308, Standard FI 322, Standard FI 323, Standard FI 324, Standard FI 325, Standard FI 337, Standard FI 338, Standard FI 347, Standard FI 348, Standard FI 357, Standard FI 358
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40197-R37-30201-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/15/2011 09:30"
      :adjustment-exp-date "08/17/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40197-R38-30202-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20110815[8/15/11 9:30 AM]; ExpDate=Production Release 20110817[8/17/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1977 ?time-slice TS1978)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 26122 25005 211765 211970 25012 202833 25032 213368 17427 25044 17433 17434 202511 202512 202574 202575 205848 205849 209942 209943 212033 212034)))
      ;;;  Category: Real Estate, Portfolio 35, BankAtlantic, BankUnited, Centra, Citizens, E-Trade, Northern Trust, Signature, UBS, UMB, Standard FI 307, Standard FI 308, Standard FI 322, Standard FI 323, Standard FI 324, Standard FI 325, Standard FI 337, Standard FI 338, Standard FI 347, Standard FI 348, Standard FI 357, Standard FI 358
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose &  ~ CRFI &  ~ NRFI &  ~ STRA &  ~ STRN &  ~ VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40197-R38-30202-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/15/2011 09:30"
      :adjustment-exp-date "08/17/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40197-R39-30203-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20110815[8/15/11 9:30 AM]; ExpDate=Production Release 20110817[8/17/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1977 ?time-slice TS1978)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 26122 25005 211765 211970 25012 202833 25032 213368 17427 25044 17433 17434 202511 202512 202574 202575 205848 205849 209942 209943 212033 212034)))
      ;;;  Category: Real Estate, Portfolio 35, BankAtlantic, BankUnited, Centra, Citizens, E-Trade, Northern Trust, Signature, UBS, UMB, Standard FI 307, Standard FI 308, Standard FI 322, Standard FI 323, Standard FI 324, Standard FI 325, Standard FI 337, Standard FI 338, Standard FI 347, Standard FI 348, Standard FI 357, Standard FI 358
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40197-R39-30203-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/15/2011 09:30"
      :adjustment-exp-date "08/17/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40209-R27-30204-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20110817[8/17/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1979 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40209-R27-30204-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/17/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Net 1/2 Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40209-R37-30205-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20110817[8/17/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1979 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose &  ~ CRFI &  ~ NRFI &  ~ STRA &  ~ STRN &  ~ VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40209-R37-30205-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/17/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40209-R39-30206-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20110817[8/17/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1979 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40209-R39-30206-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/17/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock - Net 1/2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40209-R42-30207-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=42; Status=Production; EffDate=Production Release 20110817[8/17/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1979 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40209-R42-30207-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/17/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - Net 1/2"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40209-R45-30208-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=45; Status=Production; EffDate=Production Release 20110817[8/17/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1979 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40209-R45-30208-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/17/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested Rate Protection Cap"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40209-R54-30209-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20110817[8/17/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1979 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40209-R54-30209-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/17/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs Rate Protection Cap"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40209-R55-30210-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20110817[8/17/11 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1979 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40209-R55-30210-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/17/2011 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40209-R56-30211-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20110817[8/17/11 9:30 AM]; ExpDate=Production Release 20111118[11/18/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1979 ?time-slice TS2044)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40209-R56-30211-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/17/2011 09:30"
      :adjustment-exp-date "11/18/2011 09:30"
      :rate-adj nil
      :point-adj 0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40209-R57-30212-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20110817[8/17/11 9:30 AM]; ExpDate=Production Release 20111118[11/18/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1979 ?time-slice TS2044)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40209-R57-30212-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/17/2011 09:30"
      :adjustment-exp-date "11/18/2011 09:30"
      :rate-adj 20.0
      :point-adj 2.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 120 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40209-R71-30213-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=71; Status=Production; EffDate=Production Release 20110817[8/17/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1979 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40209-R71-30213-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/17/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested Rate Protection Cap"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40242-R22-30214-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20110822[8/22/11 9:30 AM]; ExpDate=Production Release 20110914[9/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1983 ?time-slice TS1997)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40242-R22-30214-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/22/2011 09:30"
      :adjustment-exp-date "09/14/2011 09:30"
      :rate-adj nil
      :point-adj 0.45
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock PPRP - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40242-R25-30215-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20110822[8/22/11 9:30 AM]; ExpDate=Production Release 20111014[10/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1983 ?time-slice TS2020)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40242-R25-30215-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/22/2011 09:30"
      :adjustment-exp-date "10/14/2011 09:30"
      :rate-adj nil
      :point-adj -0.65
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "10 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40242-R26-30216-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20110822[8/22/11 9:30 AM]; ExpDate=Production Release 20111014[10/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1983 ?time-slice TS2020)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 11 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40242-R26-30216-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/22/2011 09:30"
      :adjustment-exp-date "10/14/2011 09:30"
      :rate-adj nil
      :point-adj -0.6
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40242-R32-30217-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20110822[8/22/11 9:30 AM]; ExpDate=Production Release 20111014[10/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1983 ?time-slice TS2020)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 16 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40242-R32-30217-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/22/2011 09:30"
      :adjustment-exp-date "10/14/2011 09:30"
      :rate-adj nil
      :point-adj -0.35
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40242-R36-30218-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20110822[8/22/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1983 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40242-R36-30218-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/22/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - USE CU Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40242-R38-30219-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20110822[8/22/11 9:30 AM]; ExpDate=Production Release 20110914[9/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1983 ?time-slice TS1997)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator N))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40242-R38-30219-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/22/2011 09:30"
      :adjustment-exp-date "09/14/2011 09:30"
      :rate-adj nil
      :point-adj 0.3
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40242-R41-30220-D06-12-2013-T06-43-40 "PSS_Commitment Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20110822[8/22/11 9:30 AM]; ExpDate=Production Release 20111014[10/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1983 ?time-slice TS2020)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40242-R41-30220-D06-12-2013-T06-43-40
      :template-id 30074
      :adjustment-eff-date "08/22/2011 09:30"
      :adjustment-exp-date "10/14/2011 09:30"
      :rate-adj nil
      :point-adj 0.45
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40242-R44-30221-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=44; Status=Production; EffDate=Production Release 20110822[8/22/11 9:30 AM]; ExpDate=Production Release 20111014[10/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1983 ?time-slice TS2020)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40242-R44-30221-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "08/22/2011 09:30"
      :adjustment-exp-date "10/14/2011 09:30"
      :rate-adj nil
      :point-adj 0.825
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40249-R47-30222-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20110824[8/24/11 9:30 AM]; ExpDate=Production Release 20110826[8/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1985 ?time-slice TS1986)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40249-R47-30222-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "08/24/2011 09:30"
      :adjustment-exp-date "08/26/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested 60+ Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40260-R47-30223-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20110826[8/26/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1987 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40260-R47-30223-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "08/26/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested 60+ Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40314-R52-30224-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=52; Status=Production; EffDate=Production Release 20110902 00:00[9/2/11 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1991 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17429)))
      ;;;  Category: Comerica
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 206413)))
      ;;;  Category: Comerica
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40314-R52-30224-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/02/2011 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj -0.25
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Comerica Invested 30 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40314-R53-30225-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=53; Status=Production; EffDate=Production Release 20110902 00:00[9/2/11 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1991 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17429)))
      ;;;  Category: Comerica
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 206413)))
      ;;;  Category: Comerica
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40314-R53-30225-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/02/2011 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj -0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Comerica Invested 45 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40336-R16-30226-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=16; Status=Production; EffDate=Production Release 20110914[9/14/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1998 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047) :exclude-flag t))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40336-R16-30226-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/14/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Base"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40336-R17-30227-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=17; Status=Production; EffDate=Production Release 20110914[9/14/11 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1998 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25011)))
      ;;;  Category: Charles Schwab
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40081 40082 40083 40103 40114 40127 40128 40131 40256 40257 40279 40281 40284 40286 40287 40288 40289 40290 40313 40315 17942 203486 17943 203488 41100 41103)))
      ;;;  Entity: 146, 147, 148, 220, 323, 423, 500, 520, 37C, 37N, 58C, 58N, 61M, 63M, 64M, 65M, 66M, 67M, 78C, 78N, R04, R05, R08, R09, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40336-R17-30227-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/14/2011 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj -0.1
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Charles Schwab Invested Offset"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40336-R18-30228-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=18; Status=Production; EffDate=Production Release 20110914[9/14/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1998 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40336-R18-30228-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/14/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 1.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Gov 15 yr Fixed"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40336-R34-30229-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20110914[9/14/11 9:30 AM]; ExpDate=Production Release 20120106[1/6/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1998 ?time-slice TS2073)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205759 205760 205761 212112 207366 207367 207368 207369 207370 207371 207703 207704 207705 207706 207707 207708 207709 207710 207711 207854 207855 207856 212113 204848 204842 204844 205758 212111 212091 212092 212094 207372 207701 207702 212096 212098 212100 212101 212102 212103 212104 212106 212107 212108 212109 212110)))
      ;;;  Entity: 506, 507, 508, 519, 540, 541, 542, 543, 544, 545, 551, 553, 557, 558, 559, 563, 564, 565, 566, 567, 568, 569, 570, 501, 503, 504, 505, 509, 511, 512, 514, 547, 548, 549, 516, 518, 523, 524, 526, 528, 529, 572, 573, 574, 576, 578
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40336-R34-30229-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/14/2011 09:30"
      :adjustment-exp-date "01/06/2012 09:30"
      :rate-adj nil
      :point-adj 0.3
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "60 Day Lock - CL Jumbo"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40336-R36-30230-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20110914[9/14/11 9:30 AM]; ExpDate=Production Release 20111014[10/14/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS1998 ?time-slice TS2020)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40336-R36-30230-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/14/2011 09:30"
      :adjustment-exp-date "10/14/2011 09:30"
      :rate-adj nil
      :point-adj 0.3
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40388-R36-30231-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20110928[9/28/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2009 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25044)))
      ;;;  Category: UMB
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40388-R36-30231-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/28/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Net 1/2 Refinance - UMB"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40447-R70-30232-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=70; Status=Production; EffDate=Production Release 20111005[10/5/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2015 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose &  ~ CONP &  ~ CONR &  ~ HMIP &  ~ HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 121 ?lockdays 180)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40447-R70-30232-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/05/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 1.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - non-CTP Straight Lock 180 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40447-R71-30233-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=71; Status=Production; EffDate=Production Release 20111005[10/5/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2015 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose &  ~ CONP &  ~ CONR &  ~ HMIP &  ~ HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 181 ?lockdays 240)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40447-R71-30233-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/05/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 1.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - non-CTP Straight Lock 240 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40447-R74-30234-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=74; Status=Production; EffDate=Production Release 20111005[10/5/11 9:30 AM]; ExpDate=Production Release 20120106[1/6/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2015 ?time-slice TS2073)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose &  ~ CRFI &  ~ NRFI &  ~ STRA &  ~ STRN &  ~ VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40447-R74-30234-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/05/2011 09:30"
      :adjustment-exp-date "01/06/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 90 Day Lock Purchase"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40447-R75-30235-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=75; Status=Production; EffDate=Production Release 20111005[10/5/11 9:30 AM]; ExpDate=Production Release 20111202[12/2/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2015 ?time-slice TS2051)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40447-R75-30235-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/05/2011 09:30"
      :adjustment-exp-date "12/02/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 90 Day Lock Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40447-R76-30236-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=76; Status=Production; EffDate=Production Release 20111005[10/5/11 9:30 AM]; ExpDate=Production Release 20111202[12/2/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2015 ?time-slice TS2051)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 211765)))
      ;;;  Category: BankUnited
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40128 40133 40131 40103 40129 40281 40315 40334 40289 40290 40324 213320 213322)))
      ;;;  Entity: 500, 535, 520, 220, 510, 58N, 78N, 97N, 66M, 67M, 84M, 458, 459
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40447-R76-30236-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/05/2011 09:30"
      :adjustment-exp-date "12/02/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "BankUnited Invested 90 Day Lock Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40491-R22-30237-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20111014[10/14/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2021 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40491-R22-30237-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/14/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj -0.3
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40491-R23-30238-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20111014[10/14/11 9:30 AM]; ExpDate=Production Release 20111026[10/26/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2021 ?time-slice TS2026)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 11 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40491-R23-30238-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/14/2011 09:30"
      :adjustment-exp-date "10/26/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "15 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40491-R39-30239-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20111014[10/14/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2021 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40491-R39-30239-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/14/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "120 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R2-30240-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=2; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20111118[11/18/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2044)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205759 205760 205761 212112 207366 207367 207368 207369 207370 207371 207703 207704 207705 207706 207707 207708 207709 207710 207711 207854 207855 207856 212113 204848 204842 204844 205758 212111 212091 212092 212094 207372 207701 207702 212096 212098 212100 212101 212102 212103 212104 212106 212107 212108 212109 212110 216342 216343 216344 216345 216346 216347 216348 216349)))
      ;;;  Entity: 506, 507, 508, 519, 540, 541, 542, 543, 544, 545, 551, 553, 557, 558, 559, 563, 564, 565, 566, 567, 568, 569, 570, 501, 503, 504, 505, 509, 511, 512, 514, 547, 548, 549, 516, 518, 523, 524, 526, 528, 529, 572, 573, 574, 576, 578, J13, J14, J15, J16, J17, J18, J19, J20
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R2-30240-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "11/18/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Jumbo Investor Products"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R19-30241-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20111109[11/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2037)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45049 45050 45053 45055)))
      ;;;  Category: Fixed, Conf Conv, 20 yr, 25 yr, 30 yr, 40 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R19-30241-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "11/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R20-30242-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20111109[11/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2037)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45045 45047)))
      ;;;  Category: Fixed, Conf Conv, 10 yr, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R20-30242-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "11/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R21-30243-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20111109[11/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2037)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R21-30243-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "11/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R22-30244-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R22-30244-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - CL (Tier 3 only) WARNING"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R23-30245-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20120217[2/17/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2101)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode &  ~ "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R23-30245-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "02/17/2012 09:30"
      :rate-adj nil
      :point-adj -0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - CL"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R24-30246-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20120217[2/17/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2101)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode &  ~ "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R24-30246-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "02/17/2012 09:30"
      :rate-adj nil
      :point-adj -0.3
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R25-30247-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20111109[11/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2037)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45049 45050 45053 45055)))
      ;;;  Category: Fixed, Conf Conv, 20 yr, 25 yr, 30 yr, 40 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R25-30247-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "11/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R26-30248-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20111109[11/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2037)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45045 45047)))
      ;;;  Category: Fixed, Conf Conv, 10 yr, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R26-30248-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "11/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R27-30249-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20111109[11/9/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2037)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R27-30249-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "11/09/2011 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R28-30250-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=28; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20120217[2/17/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2101)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 11 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode &  ~ "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R28-30250-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "02/17/2012 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "15 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R29-30251-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=29; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R29-30251-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Retail Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R30-30252-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20130301[3/1/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2333)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202687)))
      ;;;  Category: First Tennessee
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R30-30252-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "03/01/2013 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Retail Refinance - First Tennessee"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R31-30253-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | HMIP)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R31-30253-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Retail Construction"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R32-30254-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40281 213870 40128)))
      ;;;  Entity: 58N, U96, 500
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R32-30254-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Retail Purchase - OFFSET - USE CU"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R33-30255-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25004)))
      ;;;  Category: Banco Popular
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40097 40108)))
      ;;;  Entity: 188, 288
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R33-30255-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Retail Purchase - OFFSET - Banco Popular NWC"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R34-30256-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209363 209364)))
      ;;;  Category: Centra 343, Centra 344
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R34-30256-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Retail Purchase - Centra"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R35-30257-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20130301[3/1/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2333)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 202687)))
      ;;;  Category: First Tennessee
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019 45027) :exclude-flag t))
      ;;;  Category: Bond, Jumbo
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R35-30257-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "03/01/2013 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Retail - First Tennessee"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R36-30258-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R36-30258-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Retail Refinance - USE CU"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R38-30259-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20120106[1/6/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2073)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose &  ~ CRFI &  ~ NRFI &  ~ STRA &  ~ STRN &  ~ VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R38-30259-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "01/06/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R39-30260-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20111202[12/2/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2051)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25044)))
      ;;;  Category: UMB
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R39-30260-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "12/02/2011 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail Refinance - UMB"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R40-30261-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=40; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20120106[1/6/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2073)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R40-30261-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "01/06/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R41-30262-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R41-30262-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "90 Day Lock - CL"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R42-30263-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=42; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R42-30263-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40536-R43-30264-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=43; Status=Production; EffDate=Production Release 20111026[10/26/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2027 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40536-R43-30264-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/26/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.625
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "120 Day Lock - CL"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40678-R19-30265-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20111109[11/9/11 9:30 AM]; ExpDate=Production Release 20111207[12/7/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2038 ?time-slice TS2053)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45049 45050 45053 45055)))
      ;;;  Category: Fixed, Conf Conv, 20 yr, 25 yr, 30 yr, 40 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40678-R19-30265-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/09/2011 09:30"
      :adjustment-exp-date "12/07/2011 09:30"
      :rate-adj nil
      :point-adj -0.2
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40678-R20-30266-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20111109[11/9/11 9:30 AM]; ExpDate=Production Release 20111207[12/7/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2038 ?time-slice TS2053)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45045 45047)))
      ;;;  Category: Fixed, Conf Conv, 10 yr, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40678-R20-30266-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/09/2011 09:30"
      :adjustment-exp-date "12/07/2011 09:30"
      :rate-adj nil
      :point-adj -0.075
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40678-R21-30267-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20111109[11/9/11 9:30 AM]; ExpDate=Production Release 20111207[12/7/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2038 ?time-slice TS2053)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40678-R21-30267-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/09/2011 09:30"
      :adjustment-exp-date "12/07/2011 09:30"
      :rate-adj nil
      :point-adj -0.2
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40678-R25-30268-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20111109[11/9/11 9:30 AM]; ExpDate=Production Release 20111207[12/7/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2038 ?time-slice TS2053)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45049 45050 45053 45055)))
      ;;;  Category: Fixed, Conf Conv, 20 yr, 25 yr, 30 yr, 40 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40678-R25-30268-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/09/2011 09:30"
      :adjustment-exp-date "12/07/2011 09:30"
      :rate-adj nil
      :point-adj -0.2
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40678-R26-30269-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20111109[11/9/11 9:30 AM]; ExpDate=Production Release 20111207[12/7/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2038 ?time-slice TS2053)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45045 45047)))
      ;;;  Category: Fixed, Conf Conv, 10 yr, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40678-R26-30269-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/09/2011 09:30"
      :adjustment-exp-date "12/07/2011 09:30"
      :rate-adj nil
      :point-adj -0.075
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40678-R27-30270-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20111109[11/9/11 9:30 AM]; ExpDate=Production Release 20111207[12/7/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2038 ?time-slice TS2053)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40678-R27-30270-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/09/2011 09:30"
      :adjustment-exp-date "12/07/2011 09:30"
      :rate-adj nil
      :point-adj -0.2
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40688-R8-30271-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20111111 00:00[11/11/11 12:00 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2039 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII &  ~ WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT | OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40238)))
      ;;;  Entity: 971
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40688-R8-30271-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/11/2011 00:00"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Rural Dee 0-60 Days"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40775-R2-30272-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=2; Status=Production; EffDate=Production Release 20111118[11/18/11 9:30 AM]; ExpDate=Production Release 20111202[12/2/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2045 ?time-slice TS2051)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205759 205760 205761 212112 207366 207367 207368 207369 207370 207371 207703 207704 207705 207706 207707 207708 207709 207710 207711 207854 207855 207856 212113 204848 204842 204844 205758 212111 212091 212092 212094 207372 207701 207702 212096 212098 212100 212101 212102 212103 212104 212106 212107 212108 212109 212110 216342 216343 216344 216345 216346 216347 216348 216349 216514 216515 216516 216517 216518 216519 216520 216521 216522)))
      ;;;  Entity: 506, 507, 508, 519, 540, 541, 542, 543, 544, 545, 551, 553, 557, 558, 559, 563, 564, 565, 566, 567, 568, 569, 570, 501, 503, 504, 505, 509, 511, 512, 514, 547, 548, 549, 516, 518, 523, 524, 526, 528, 529, 572, 573, 574, 576, 578, J13, J14, J15, J16, J17, J18, J19, J20, 585, 586, 587, 588, 589, 590, 591, 592, 593
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40775-R2-30272-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/18/2011 09:30"
      :adjustment-exp-date "12/02/2011 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Jumbo Investor Products"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40775-R56-30273-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20111118[11/18/11 9:30 AM]; ExpDate=Production Release 20130320[3/20/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2045 ?time-slice TS2343)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40775-R56-30273-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/18/2011 09:30"
      :adjustment-exp-date "03/20/2013 09:30"
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40775-R57-30274-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20111118[11/18/11 9:30 AM]; ExpDate=Production Release 20130320[3/20/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2045 ?time-slice TS2343)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 41100 41103)))
      ;;;  Entity: W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40775-R57-30274-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/18/2011 09:30"
      :adjustment-exp-date "03/20/2013 09:30"
      :rate-adj nil
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj 0.125
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 90 Day Lock W Pgm Margin Adj"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40775-R58-30275-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=58; Status=Production; EffDate=Production Release 20111118[11/18/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2045 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40775-R58-30275-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/18/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 120 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40775-R59-30276-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=59; Status=Production; EffDate=Production Release 20111118[11/18/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2045 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 41100 41103)))
      ;;;  Entity: W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40775-R59-30276-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/18/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj 0.125
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 120 Day Lock W Pgm Margin Adj"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40775-R60-30277-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=60; Status=Production; EffDate=Production Release 20111118[11/18/11 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2045 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40775-R60-30277-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "11/18/2011 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 120 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40861-R2-30278-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=2; Status=Production; EffDate=Production Release 20111202[12/2/11 9:30 AM]; ExpDate=Production Release 20120106[1/6/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2052 ?time-slice TS2073)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 205759 205760 205761 212112 207366 207367 207368 207369 207370 207371 207703 207704 207705 207706 207707 207708 207709 207710 207711 207854 207855 207856 212113 204848 204842 204844 205758 212111 212091 212092 212094 207372 207701 207702 212096 212098 212100 212101 212102 212103 212104 212106 212107 212108 212109 212110 216514 216515 216516 216517 216518 216519 216520 216521 216522 216342 216343 216344 216345 216346 216347 216348 216349)))
      ;;;  Entity: 506, 507, 508, 519, 540, 541, 542, 543, 544, 545, 551, 553, 557, 558, 559, 563, 564, 565, 566, 567, 568, 569, 570, 501, 503, 504, 505, 509, 511, 512, 514, 547, 548, 549, 516, 518, 523, 524, 526, 528, 529, 572, 573, 574, 576, 578, 585, 586, 587, 588, 589, 590, 591, 592, 593, J13, J14, J15, J16, J17, J18, J19, J20
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40861-R2-30278-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/02/2011 09:30"
      :adjustment-exp-date "01/06/2012 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Jumbo Investor Products"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40861-R39-30279-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20111202[12/2/11 9:30 AM]; ExpDate=Production Release 20120106[1/6/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2052 ?time-slice TS2073)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214978 211970 202687 209043 215189 214620) :exclude-flag t))
      ;;;  Category: Ameriprise, Centra, First Tennessee, KeyBank, Morgan Stanley, TIAA-CREF
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40861-R39-30279-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/02/2011 09:30"
      :adjustment-exp-date "01/06/2012 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40861-R78-30280-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=78; Status=Production; EffDate=Production Release 20111202[12/2/11 9:30 AM]; ExpDate=Production Release 20120106[1/6/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2052 ?time-slice TS2073)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40861-R78-30280-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/02/2011 09:30"
      :adjustment-exp-date "01/06/2012 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 75 Day Lock Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40861-R79-30281-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=79; Status=Production; EffDate=Production Release 20111202[12/2/11 9:30 AM]; ExpDate=Production Release 20120106[1/6/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2052 ?time-slice TS2073)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40861-R79-30281-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/02/2011 09:30"
      :adjustment-exp-date "01/06/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 90 Day Lock Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40861-R80-30282-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=80; Status=Production; EffDate=Production Release 20111202[12/2/11 9:30 AM]; ExpDate=Production Release 20120106[1/6/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2052 ?time-slice TS2073)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 211765)))
      ;;;  Category: BankUnited
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40128 40133 40131 40103 40129 40281 40315 40334 40289 40290 40324 213320 213322)))
      ;;;  Entity: 500, 535, 520, 220, 510, 58N, 78N, 97N, 66M, 67M, 84M, 458, 459
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40861-R80-30282-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/02/2011 09:30"
      :adjustment-exp-date "01/06/2012 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "BankUnited Invested 75 Day Lock Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40861-R81-30283-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=81; Status=Production; EffDate=Production Release 20111202[12/2/11 9:30 AM]; ExpDate=Production Release 20120106[1/6/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2052 ?time-slice TS2073)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 211765)))
      ;;;  Category: BankUnited
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40128 40133 40131 40103 40129 40281 40315 40334 40289 40290 40324 213320 213322)))
      ;;;  Entity: 500, 535, 520, 220, 510, 58N, 78N, 97N, 66M, 67M, 84M, 458, 459
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40861-R81-30283-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/02/2011 09:30"
      :adjustment-exp-date "01/06/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "BankUnited Invested 90 Day Lock Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40881-R19-30284-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20111207[12/7/11 9:30 AM]; ExpDate=Production Release 20111221[12/21/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2054 ?time-slice TS2061)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45049 45050 45053 45055)))
      ;;;  Category: Fixed, Conf Conv, 20 yr, 25 yr, 30 yr, 40 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40881-R19-30284-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/07/2011 09:30"
      :adjustment-exp-date "12/21/2011 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40881-R20-30285-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20111207[12/7/11 9:30 AM]; ExpDate=Production Release 20111221[12/21/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2054 ?time-slice TS2061)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45045 45047)))
      ;;;  Category: Fixed, Conf Conv, 10 yr, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40881-R20-30285-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/07/2011 09:30"
      :adjustment-exp-date "12/21/2011 09:30"
      :rate-adj nil
      :point-adj -0.025
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40881-R21-30286-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20111207[12/7/11 9:30 AM]; ExpDate=Production Release 20111221[12/21/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2054 ?time-slice TS2061)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40881-R21-30286-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/07/2011 09:30"
      :adjustment-exp-date "12/21/2011 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40881-R25-30287-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20111207[12/7/11 9:30 AM]; ExpDate=Production Release 20111221[12/21/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2054 ?time-slice TS2061)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45049 45050 45053 45055)))
      ;;;  Category: Fixed, Conf Conv, 20 yr, 25 yr, 30 yr, 40 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40881-R25-30287-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/07/2011 09:30"
      :adjustment-exp-date "12/21/2011 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40881-R26-30288-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20111207[12/7/11 9:30 AM]; ExpDate=Production Release 20111221[12/21/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2054 ?time-slice TS2061)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45045 45047)))
      ;;;  Category: Fixed, Conf Conv, 10 yr, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40881-R26-30288-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/07/2011 09:30"
      :adjustment-exp-date "12/21/2011 09:30"
      :rate-adj nil
      :point-adj -0.025
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40881-R27-30289-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20111207[12/7/11 9:30 AM]; ExpDate=Production Release 20111221[12/21/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2054 ?time-slice TS2061)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40881-R27-30289-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/07/2011 09:30"
      :adjustment-exp-date "12/21/2011 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40881-R82-30290-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=82; Status=Production; EffDate=Production Release 20111207[12/7/11 9:30 AM]; ExpDate=Production Release 20111221[12/21/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2054 ?time-slice TS2061)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215189)))
      ;;;  Category: Morgan Stanley
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40128 40288 40289 40290)))
      ;;;  Entity: 220, 500, 65M, 66M, 67M
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40881-R82-30290-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/07/2011 09:30"
      :adjustment-exp-date "12/21/2011 09:30"
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Morgan Stanley non conf 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40881-R83-30291-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=83; Status=Production; EffDate=Production Release 20111207[12/7/11 9:30 AM]; ExpDate=Production Release 20111221[12/21/11 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2054 ?time-slice TS2061)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215189)))
      ;;;  Category: Morgan Stanley
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40128 40288 40289 40290)))
      ;;;  Entity: 220, 500, 65M, 66M, 67M
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40881-R83-30291-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/07/2011 09:30"
      :adjustment-exp-date "12/21/2011 09:30"
      :rate-adj 0.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Morgan Stanley non conf 0-60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40928-R76-30292-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=76; Status=Production; EffDate=Production Release 20111221[12/21/11 9:30 AM]; ExpDate=Production Release 20120321[3/21/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2062 ?time-slice TS2121)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215189)))
      ;;;  Category: Morgan Stanley
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40128 40288 40289 40290)))
      ;;;  Entity: 220, 500, 65M, 66M, 67M
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40928-R76-30292-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/21/2011 09:30"
      :adjustment-exp-date "03/21/2012 09:30"
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Morgan Stanley non conf 90 Day Lock MA90L"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40928-R77-30293-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=77; Status=Production; EffDate=Production Release 20111221[12/21/11 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2062 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215189)))
      ;;;  Category: Morgan Stanley
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40128 40288 40289 40290)))
      ;;;  Entity: 220, 500, 65M, 66M, 67M
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40928-R77-30293-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "12/21/2011 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj 0.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Morgan Stanley non conf 0-60 Day Lock MA90L"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40991-R2-30294-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=2; Status=Production; EffDate=Production Release 20120106[1/6/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2074 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216634)))
      ;;;  Category: Jumbo Investor
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40991-R2-30294-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "01/06/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Jumbo Investor Products"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40991-R31-30295-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20120106[1/6/12 9:30 AM]; ExpDate=Production Release 20120321[3/21/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2074 ?time-slice TS2121)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216634)))
      ;;;  Category: Jumbo Investor
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40991-R31-30295-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "01/06/2012 09:30"
      :adjustment-exp-date "03/21/2012 09:30"
      :rate-adj nil
      :point-adj 0.3
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "60 Day Lock - CL Jumbo"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40991-R32-30296-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20120106[1/6/12 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2074 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40991-R32-30296-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "01/06/2012 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40991-R69-30297-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=69; Status=Production; EffDate=Production Release 20120106[1/6/12 9:30 AM]; ExpDate=Production Release 20120321[3/21/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2074 ?time-slice TS2121)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40991-R69-30297-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "01/06/2012 09:30"
      :adjustment-exp-date "03/21/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-40991-R70-30298-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=70; Status=Production; EffDate=Production Release 20120106[1/6/12 9:30 AM]; ExpDate=Production Release 20120321[3/21/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2074 ?time-slice TS2121)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 211765)))
      ;;;  Category: BankUnited
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40128 40133 40131 40103 40129 40281 40315 40334 40289 40290 40324 213320 213322)))
      ;;;  Entity: 500, 535, 520, 220, 510, 58N, 78N, 97N, 66M, 67M, 84M, 458, 459
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-40991-R70-30298-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "01/06/2012 09:30"
      :adjustment-exp-date "03/21/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "BankUnited Invested 90 Day Lock Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41084-R19-30299-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20120120[1/20/12 9:30 AM]; ExpDate=Production Release 20120217[2/17/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2085 ?time-slice TS2101)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45025 45034)))
      ;;;  Category: Fixed, Conf Conv, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41084-R19-30299-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "01/20/2012 09:30"
      :adjustment-exp-date "02/17/2012 09:30"
      :rate-adj nil
      :point-adj 0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41084-R23-30300-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20120120[1/20/12 9:30 AM]; ExpDate=Production Release 20120217[2/17/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2085 ?time-slice TS2101)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45025 45034)))
      ;;;  Category: Fixed, Conf Conv, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode & "MAND"))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41084-R23-30300-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "01/20/2012 09:30"
      :adjustment-exp-date "02/17/2012 09:30"
      :rate-adj nil
      :point-adj 0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41231-R6-30301-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=6; Status=Production; EffDate=Production Release 20120217[2/17/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2102 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 16458 16459)))
      ;;;  Category: Signature 293, Signature 294
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40128 40129 40257 40281 40288 40289)))
      ;;;  Entity: 220, 500, 510, 37N, 58N, 65M, 66M
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41231-R6-30301-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/17/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Client Invested Signature Bank"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41231-R19-30302-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20120217[2/17/12 9:30 AM]; ExpDate=Production Release 20120316[3/16/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2102 ?time-slice TS2118)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45025 45034)))
      ;;;  Category: Fixed, Conf Conv, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41231-R19-30302-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/17/2012 09:30"
      :adjustment-exp-date "03/16/2012 09:30"
      :rate-adj nil
      :point-adj 0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41231-R21-30303-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20120217[2/17/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2102 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype &  ~ MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41231-R21-30303-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/17/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - CL"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41231-R22-30304-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20120217[2/17/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2102 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype &  ~ MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41231-R22-30304-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/17/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.3
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41231-R23-30305-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20120217[2/17/12 9:30 AM]; ExpDate=Production Release 20120316[3/16/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2102 ?time-slice TS2118)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023 45025 45034)))
      ;;;  Category: Fixed, Conf Conv, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41231-R23-30305-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/17/2012 09:30"
      :adjustment-exp-date "03/16/2012 09:30"
      :rate-adj nil
      :point-adj 0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41231-R24-30306-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20120217[2/17/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2102 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype &  ~ MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 11 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41231-R24-30306-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/17/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "15 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41231-R42-30307-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=42; Status=Production; EffDate=Production Release 20120217[2/17/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2102 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40289 40315 40334)))
      ;;;  Entity: 220, 37N, 58N, 66M, 78N, 97N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41231-R42-30307-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/17/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 0.0
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested - Base Commitment Rule"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41231-R43-30308-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=43; Status=Production; EffDate=Production Release 20120217[2/17/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2102 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40289 40315 40334)))
      ;;;  Entity: 220, 37N, 58N, 66M, 78N, 97N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41231-R43-30308-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/17/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj -0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested 45 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41231-R44-30309-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=44; Status=Production; EffDate=Production Release 20120217[2/17/12 9:30 AM]; ExpDate=Production Release 20120321[3/21/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2102 ?time-slice TS2121)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40289 40315 40334)))
      ;;;  Entity: 220, 37N, 58N, 66M, 78N, 97N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41231-R44-30309-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/17/2012 09:30"
      :adjustment-exp-date "03/21/2012 09:30"
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41231-R45-30310-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=45; Status=Production; EffDate=Production Release 20120217[2/17/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2102 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40289 40315 40334)))
      ;;;  Entity: 220, 37N, 58N, 66M, 78N, 97N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41231-R45-30310-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/17/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested 90 Day Lock WARNING"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41358-R19-30311-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20120316[3/16/12 9:30 AM]; ExpDate=Production Release 20120321[3/21/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2119 ?time-slice TS2121)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023)))
      ;;;  Category: Fixed, Conf Conv
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41358-R19-30311-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/16/2012 09:30"
      :adjustment-exp-date "03/21/2012 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41358-R20-30312-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20120316[3/16/12 9:30 AM]; ExpDate=Production Release 20120321[3/21/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2119 ?time-slice TS2121)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41358-R20-30312-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/16/2012 09:30"
      :adjustment-exp-date "03/21/2012 09:30"
      :rate-adj nil
      :point-adj 0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41358-R24-30313-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20120316[3/16/12 9:30 AM]; ExpDate=Production Release 20120321[3/21/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2119 ?time-slice TS2121)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023)))
      ;;;  Category: Fixed, Conf Conv
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41358-R24-30313-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/16/2012 09:30"
      :adjustment-exp-date "03/21/2012 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41358-R25-30314-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20120316[3/16/12 9:30 AM]; ExpDate=Production Release 20120321[3/21/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2119 ?time-slice TS2121)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41358-R25-30314-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/16/2012 09:30"
      :adjustment-exp-date "03/21/2012 09:30"
      :rate-adj nil
      :point-adj 0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41367-R19-30315-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20120321[3/21/12 9:30 AM]; ExpDate=Production Release 20120328[3/28/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2122 ?time-slice TS2125)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023)))
      ;;;  Category: Fixed, Conf Conv
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41367-R19-30315-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/21/2012 09:30"
      :adjustment-exp-date "03/28/2012 09:30"
      :rate-adj nil
      :point-adj -0.325
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41367-R20-30316-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20120321[3/21/12 9:30 AM]; ExpDate=Production Release 20120912[9/12/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2122 ?time-slice TS2233)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41367-R20-30316-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/21/2012 09:30"
      :adjustment-exp-date "09/12/2012 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41367-R24-30317-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20120321[3/21/12 9:30 AM]; ExpDate=Production Release 20120328[3/28/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2122 ?time-slice TS2125)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023)))
      ;;;  Category: Fixed, Conf Conv
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41367-R24-30317-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/21/2012 09:30"
      :adjustment-exp-date "03/28/2012 09:30"
      :rate-adj nil
      :point-adj -0.325
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41367-R25-30318-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20120321[3/21/12 9:30 AM]; ExpDate=Production Release 20120912[9/12/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2122 ?time-slice TS2233)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41367-R25-30318-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/21/2012 09:30"
      :adjustment-exp-date "09/12/2012 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41367-R35-30319-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20120321[3/21/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2122 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216634)))
      ;;;  Category: Jumbo Investor
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41367-R35-30319-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/21/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.3
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "60 Day Lock - CL Jumbo"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41367-R46-30320-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=46; Status=Production; EffDate=Production Release 20120321[3/21/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2122 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40289 40315 40334)))
      ;;;  Entity: 220, 37N, 58N, 66M, 78N, 97N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41367-R46-30320-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/21/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41367-R73-30321-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=73; Status=Production; EffDate=Production Release 20120321[3/21/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2122 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41367-R73-30321-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/21/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41367-R74-30322-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=74; Status=Production; EffDate=Production Release 20120321[3/21/12 9:30 AM]; ExpDate=Production Release 20120720[7/20/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2122 ?time-slice TS2200)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 211765)))
      ;;;  Category: BankUnited
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40128 40133 40131 40103 40129 40281 40315 40334 40289 40290 40324 213320 213322)))
      ;;;  Entity: 500, 535, 520, 220, 510, 58N, 78N, 97N, 66M, 67M, 84M, 458, 459
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41367-R74-30322-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/21/2012 09:30"
      :adjustment-exp-date "07/20/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "BankUnited Invested 90 Day Lock Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41367-R76-30323-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=76; Status=Production; EffDate=Production Release 20120321[3/21/12 9:30 AM]; ExpDate=Production Release 20120912[9/12/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2122 ?time-slice TS2233)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215189)))
      ;;;  Category: Morgan Stanley
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40128 40288 40289 40290)))
      ;;;  Entity: 220, 500, 65M, 66M, 67M
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41367-R76-30323-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/21/2012 09:30"
      :adjustment-exp-date "09/12/2012 09:30"
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Morgan Stanley non conf 90 Day Lock MA90L"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41386-R19-30324-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20120328[3/28/12 9:30 AM]; ExpDate=Production Release 20120413[4/13/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2126 ?time-slice TS2137)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023)))
      ;;;  Category: Fixed, Conf Conv
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41386-R19-30324-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/28/2012 09:30"
      :adjustment-exp-date "04/13/2012 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41386-R24-30325-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20120328[3/28/12 9:30 AM]; ExpDate=Production Release 20120413[4/13/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2126 ?time-slice TS2137)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023)))
      ;;;  Category: Fixed, Conf Conv
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41386-R24-30325-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/28/2012 09:30"
      :adjustment-exp-date "04/13/2012 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41465-R19-30326-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20120413[4/13/12 9:30 AM]; ExpDate=Production Release 20120912[9/12/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2138 ?time-slice TS2233)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023)))
      ;;;  Category: Fixed, Conf Conv
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41465-R19-30326-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "04/13/2012 09:30"
      :adjustment-exp-date "09/12/2012 09:30"
      :rate-adj nil
      :point-adj -0.15
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41465-R24-30327-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20120413[4/13/12 9:30 AM]; ExpDate=Production Release 20120912[9/12/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2138 ?time-slice TS2233)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023)))
      ;;;  Category: Fixed, Conf Conv
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41465-R24-30327-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "04/13/2012 09:30"
      :adjustment-exp-date "09/12/2012 09:30"
      :rate-adj nil
      :point-adj -0.15
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41817-R6-30328-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=6; Status=Production; EffDate=Production Release 20120720[7/20/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2201 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT | OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45043 45051 45057 45040)))
      ;;;  Category: 1 mo, 3 mo, 6 mo, First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41817-R6-30328-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/20/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - 1,3,6 mo ARM Retail 0-60 Days"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41817-R15-30329-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=15; Status=Production; EffDate=Production Release 20120720[7/20/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2201 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41817-R15-30329-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/20/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock PPRP - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41817-R31-30330-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20120720[7/20/12 9:30 AM]; ExpDate=Production Release 20120810[8/10/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2201 ?time-slice TS2213)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209043) :exclude-flag t))
      ;;;  Category: KeyBank
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41817-R31-30330-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/20/2012 09:30"
      :adjustment-exp-date "08/10/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41817-R32-30331-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20120720[7/20/12 9:30 AM]; ExpDate=Production Release 20120810[8/10/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2201 ?time-slice TS2213)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209043)))
      ;;;  Category: KeyBank
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41817-R32-30331-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/20/2012 09:30"
      :adjustment-exp-date "08/10/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41817-R33-30332-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20120720[7/20/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2201 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41817-R33-30332-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/20/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41817-R38-30333-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20120720[7/20/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2201 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25004)))
      ;;;  Category: Banco Popular
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40097 40108)))
      ;;;  Entity: 188, 288
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41817-R38-30333-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/20/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Banco Popular Invested 30 Day Lock NWC"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41817-R39-30334-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20120720[7/20/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2201 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 211765)))
      ;;;  Category: BankUnited
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40128 40133 40131 40103 40129 40281 40315 40334 40289 40290 40324 213320 213322)))
      ;;;  Entity: 500, 535, 520, 220, 510, 58N, 78N, 97N, 66M, 67M, 84M, 458, 459
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41817-R39-30334-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/20/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "BankUnited Invested 90 Day Lock Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41817-R41-30335-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20120720[7/20/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2201 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41817-R41-30335-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/20/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41817-R50-30336-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=50; Status=Production; EffDate=Production Release 20120720[7/20/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2201 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41817-R50-30336-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/20/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41817-R70-30337-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=70; Status=Production; EffDate=Production Release 20120720[7/20/12 9:30 AM]; ExpDate=Production Release 20120912[9/12/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2201 ?time-slice TS2233)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215189)))
      ;;;  Category: Morgan Stanley
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40128 40288 40289 40290)))
      ;;;  Entity: 220, 500, 65M, 66M, 67M
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41817-R70-30337-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/20/2012 09:30"
      :adjustment-exp-date "09/12/2012 09:30"
      :rate-adj 0.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Morgan Stanley non conf 0-60 Day Lock MA90L"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41817-R73-30338-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=73; Status=Production; EffDate=Production Release 20120720[7/20/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2201 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41817-R73-30338-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/20/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41898-R31-30339-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20120810[8/10/12 9:30 AM]; ExpDate=Production Release 20120912[9/12/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2214 ?time-slice TS2233)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209043 26122) :exclude-flag t))
      ;;;  Category: KeyBank, Portfolio 35
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41898-R31-30339-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "08/10/2012 09:30"
      :adjustment-exp-date "09/12/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41898-R32-30340-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20120810[8/10/12 9:30 AM]; ExpDate=Production Release 20120912[9/12/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2214 ?time-slice TS2233)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209043 26122)))
      ;;;  Category: KeyBank, Portfolio 35
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41898-R32-30340-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "08/10/2012 09:30"
      :adjustment-exp-date "09/12/2012 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41898-R33-30341-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20120810[8/10/12 9:30 AM]; ExpDate=Production Release 20120912[9/12/12 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2214 ?time-slice TS2233)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 26122)))
      ;;;  Category: Portfolio 35
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41898-R33-30341-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "08/10/2012 09:30"
      :adjustment-exp-date "09/12/2012 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R16-30342-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=16; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023)))
      ;;;  Category: Fixed, Conf Conv
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R16-30342-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R17-30343-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=17; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R17-30343-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R21-30344-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023)))
      ;;;  Category: Fixed, Conf Conv
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R21-30344-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R22-30345-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R22-30345-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R31-30346-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130201[2/1/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2316)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209043) :exclude-flag t))
      ;;;  Category: KeyBank
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R31-30346-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "02/01/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R32-30347-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130201[2/1/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2316)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209043)))
      ;;;  Category: KeyBank
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R32-30347-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "02/01/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R56-30348-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219367)))
      ;;;  Entity: Z59
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R56-30348-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Community Works - 15 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R57-30349-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 16 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219367)))
      ;;;  Entity: Z59
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R57-30349-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Community Works - 30 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R58-30350-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=58; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219367)))
      ;;;  Entity: Z59
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R58-30350-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Community Works - 45 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R59-30351-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=59; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 46 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219367)))
      ;;;  Entity: Z59
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R59-30351-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Community Works - 60 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R60-30352-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=60; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130417[4/17/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2364)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219367)))
      ;;;  Entity: Z59
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R60-30352-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "04/17/2013 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Community Works - 90 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R61-30353-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=61; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219041 219042 219043 219044 219045 219046)))
      ;;;  Entity: Z49, Z50, Z51, Z52, Z53, Z54
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R61-30353-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - CRE - 30 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R62-30354-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=62; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219041 219042 219043 219044 219045 219046)))
      ;;;  Entity: Z49, Z50, Z51, Z52, Z53, Z54
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R62-30354-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - CRE - 60 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R63-30355-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130111[1/11/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2303)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219041 219042 219043 219044 219045 219046)))
      ;;;  Entity: Z49, Z50, Z51, Z52, Z53, Z54
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R63-30355-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "01/11/2013 09:30"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - CRE - 90 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R64-30356-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=64; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219041 219042 219043 219044 219045 219046)))
      ;;;  Entity: Z49, Z50, Z51, Z52, Z53, Z54
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R64-30356-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - CRE - 120 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R65-30357-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=65; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z10, Z11, Z12, Z13, Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R65-30357-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 15 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R66-30358-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=66; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 16 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z10, Z11, Z12, Z13, Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R66-30358-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 30 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R67-30359-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=67; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z10, Z11, Z12, Z13, Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R67-30359-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 45 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R68-30360-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=68; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 46 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z10, Z11, Z12, Z13, Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R68-30360-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 60 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R69-30361-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=69; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R69-30361-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 90 Day ARM"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R70-30362-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=70; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870)))
      ;;;  Entity: Z10, Z11, Z12, Z13
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R70-30362-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 90 Day Fixed"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R71-30363-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=71; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R71-30363-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 120 Day ARM"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R72-30364-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=72; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870)))
      ;;;  Entity: Z10, Z11, Z12, Z13
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R72-30364-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.625
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 120 Day Fixed"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R73-30365-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=73; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218869 218876 218884 218885 218886 218887 218888 218889 218890 218891 218892 218893 218894 218079 218080 218081 218082 218083 218084 218085 218086 218087 218088 218089 218090 218091 218092)))
      ;;;  Entity: Z22, Z23, Z24, Z25, Z26, Z27, Z28, Z29, Z30, Z31, Z32, Z33, Z34, Z35, Z36, Z37, Z38, Z39, Z40, Z41, Z42, Z43, Z44, Z45, Z46, Z47, Z48
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R73-30365-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Private Banking - 60 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R88-30366-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=88; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215189)))
      ;;;  Category: Morgan Stanley
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40288 40289 40290 40103 40128 219269 219271)))
      ;;;  Entity: 65M, 66M, 67M, 220, 500, J80, J81
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R88-30366-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 0.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Morgan Stanley non conf 0-60 Day Lock MA90L"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-41982-R89-30367-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=89; Status=Production; EffDate=Production Release 20120912[9/12/12 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2234 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215189)))
      ;;;  Category: Morgan Stanley
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40288 40289 40290 40103 40128 219269 219271)))
      ;;;  Entity: 65M, 66M, 67M, 220, 500, J80, J81
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-41982-R89-30367-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/12/2012 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Morgan Stanley non conf 90 Day Lock MA90L"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42440-R33-30368-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20130111[1/11/13 9:30 AM]; ExpDate=Production Release 20130201[2/1/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2304 ?time-slice TS2316)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209043)))
      ;;;  Category: KeyBank
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061)))
      ;;;  Category: Adjustable
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42440-R33-30368-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "01/11/2013 09:30"
      :adjustment-exp-date "02/01/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42440-R64-30369-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=64; Status=Production; EffDate=Production Release 20130111[1/11/13 9:30 AM]; ExpDate=Production Release 20130417[4/17/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2304 ?time-slice TS2364)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 7 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219041 219042 219043 219044 219045 219046)))
      ;;;  Entity: Z49, Z50, Z51, Z52, Z53, Z54
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42440-R64-30369-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "01/11/2013 09:30"
      :adjustment-exp-date "04/17/2013 09:30"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - CRE - 90 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42513-R31-30370-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20130201[2/1/13 9:30 AM]; ExpDate=Production Release 20130206[2/6/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2317 ?time-slice TS2318)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42513-R31-30370-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/01/2013 09:30"
      :adjustment-exp-date "02/06/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42558-R31-30371-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20130206[2/6/13 9:30 AM]; ExpDate=Production Release 20130222[2/22/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2319 ?time-slice TS2329)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 26122) :exclude-flag t))
      ;;;  Category: Portfolio 35
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42558-R31-30371-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/06/2013 09:30"
      :adjustment-exp-date "02/22/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42558-R32-30372-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20130206[2/6/13 9:30 AM]; ExpDate=Production Release 20130222[2/22/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2319 ?time-slice TS2329)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 26122)))
      ;;;  Category: Portfolio 35
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216630 216631) :exclude-flag t))
      ;;;  Category: HARP FNMA, HARP FHLMC
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42558-R32-30372-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/06/2013 09:30"
      :adjustment-exp-date "02/22/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42558-R33-30373-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20130206[2/6/13 9:30 AM]; ExpDate=Production Release 20130222[2/22/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2319 ?time-slice TS2329)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 26122)))
      ;;;  Category: Portfolio 35
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216630 216631)))
      ;;;  Category: HARP FNMA, HARP FHLMC
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42558-R33-30373-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/06/2013 09:30"
      :adjustment-exp-date "02/22/2013 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail HARP"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42623-R31-30374-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20130222[2/22/13 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2330 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003 209938 209939) :exclude-flag t))
      ;;;  Category: Real Estate, Retail, Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42623-R31-30374-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/22/2013 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42623-R32-30375-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20130222[2/22/13 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2330 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42623-R32-30375-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/22/2013 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42623-R33-30376-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20130222[2/22/13 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2330 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42623-R33-30376-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/22/2013 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail Refinance - USE CU"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42623-R34-30377-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20130222[2/22/13 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2330 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003)))
      ;;;  Category: Real Estate, Retail
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216630 216631) :exclude-flag t))
      ;;;  Category: HARP FNMA, HARP FHLMC
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42623-R34-30377-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/22/2013 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42623-R35-30378-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20130222[2/22/13 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2330 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003)))
      ;;;  Category: Real Estate, Retail
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216630 216631)))
      ;;;  Category: HARP FNMA, HARP FHLMC
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42623-R35-30378-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "02/22/2013 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail HARP"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42638-R25-30379-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20130301[3/1/13 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2334 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 28400) :exclude-flag t))
      ;;;  Category: CLIENT INVESTED
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "CA$H")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45023 45021 45025 45034 17707)))
      ;;;  Category: Conf Conv, CHBP, FHA, VA, Farmers Home
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42638-R25-30379-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/01/2013 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Retail Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42703-R53-30380-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=53; Status=Production; EffDate=Production Release 20130320[3/20/13 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2344 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42703-R53-30380-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/20/2013 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj 0.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42703-R54-30381-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20130320[3/20/13 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2344 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 41100 41103)))
      ;;;  Entity: W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42703-R54-30381-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "03/20/2013 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj 0.0
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 90 Day Lock W Pgm Margin Adj"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42831-R26-30382-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20130417[4/17/13 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2365 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 212111 212091 212100 212101 212103 207701 212106 212107 212109)))
      ;;;  Entity: 509, 511, 523, 524, 528, 548, 572, 573, 576
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42831-R26-30382-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "04/17/2013 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Purchase - Jumbo Investor 6 & 7"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42831-R63-30383-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20130417[4/17/13 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2365 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219367)))
      ;;;  Entity: Z59
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42831-R63-30383-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "04/17/2013 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Community Works - 90 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-42831-R66-30384-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=66; Status=Production; EffDate=Production Release 20130417[4/17/13 9:30 AM]; ExpDate=Production Release 20130712[7/12/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2365 ?time-slice TS2415)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219041 219042 219043 219044 219045 219046)))
      ;;;  Entity: Z49, Z50, Z51, Z52, Z53, Z54
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-42831-R66-30384-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "04/17/2013 09:30"
      :adjustment-exp-date "07/12/2013 09:30"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id nil
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - CRE - 90 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R1-30385-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=1; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & OTFD | RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R1-30385-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id X1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Construction Rate Protection 0-90 Days"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R2-30386-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=2; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216634)))
      ;;;  Category: Jumbo Investor
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R2-30386-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id X1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Jumbo Investor Products"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R3-30387-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=3; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45019)))
      ;;;  Category: Bond
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R3-30387-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id X1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Bond Products"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R4-30388-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=4; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45031)))
      ;;;  Category: Second
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R4-30388-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id X1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Closed End Seconds"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R5-30389-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=5; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 16458 16459)))
      ;;;  Category: Signature 293, Signature 294
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40128 40129 40257 40281 40288 40289 40290 40315)))
      ;;;  Entity: 220, 500, 510, 37N, 58N, 65M, 66M, 67M, 78N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R5-30389-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id X1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Client Invested Signature Bank"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R6-30390-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=6; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT | OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45043 45051 45057 45040)))
      ;;;  Category: 1 mo, 3 mo, 6 mo, First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R6-30390-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id X1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - 1,3,6 mo ARM Retail 0-60 Days"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R7-30391-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=7; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier &  ~ CVI &  ~ CVII &  ~ WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & FLOT | OTFD | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40238)))
      ;;;  Entity: 971
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R7-30391-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id X1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "OFFSET Commitment Rules - Rural Dee 0-60 Days"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R8-30392-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=8; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R8-30392-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - 91+ Days WARNING"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R9-30393-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=9; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45061 45025 45034) :entity (build$ 40942)))
      ;;;  Category: Adjustable, FHA, VAEntity: PH5
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R9-30393-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Gov ARM WARNING"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R10-30394-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=10; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009) :exclude-flag t))
      ;;;  Category: Burnet
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047) :exclude-flag t))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R10-30394-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Base"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R11-30395-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=11; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25009)))
      ;;;  Category: Burnet
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047) :exclude-flag t))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R11-30395-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 0.25
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Burnet"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R12-30396-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=12; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R12-30396-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 1.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap - Gov 15 yr Fixed"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R13-30397-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=13; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047) :exclude-flag t))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R13-30397-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Base"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type PPRP_Cap
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R14-30398-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=14; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034 45047)))
      ;;;  Category: Fixed, FHA, VA, 15 yr
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R14-30398-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 1.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Rate Protection Cap (PPRP) - Gov 15 yr Fixed"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R15-30399-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=15; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator &:(eq ?prepurchaseindicator Y))
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R15-30399-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock PPRP - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R16-30400-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=16; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023)))
      ;;;  Category: Fixed, Conf Conv
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R16-30400-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R17-30401-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=17; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 7)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R17-30401-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "7 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R18-30402-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=18; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=Production Release 20131004[10/4/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2467)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R18-30402-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date "10/04/2013 09:30"
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - CL (Tier 3 only) WARNING"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R19-30403-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=19; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype &  ~ MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R19-30403-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - CL"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R20-30404-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=20; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype &  ~ MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 10)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45040)))
      ;;;  Category: First
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R20-30404-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.3
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "10 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R21-30405-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=21; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45023)))
      ;;;  Category: Fixed, Conf Conv
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R21-30405-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.1
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R22-30406-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=22; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215274)))
      ;;;  Category: Mandatory - Single Loan
      
      (mbx:businesstier ?businesstier & CVI | CVII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype & MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 8 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45060 45025 45034)))
      ;;;  Category: Fixed, FHA, VA
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R22-30406-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.05
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "15 Day Lock - CL SLM"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R23-30407-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=23; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype &  ~ MAND)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 11 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R23-30407-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "15 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R24-30408-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=24; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R24-30408-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1R1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Retail Purchase"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R25-30409-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=25; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 28400) :exclude-flag t))
      ;;;  Category: CLIENT INVESTED
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem & "CA$H")
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 45023 45021 45025 45034 17707)))
      ;;;  Category: Conf Conv, CHBP, FHA, VA, Farmers Home
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R25-30409-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1R2
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Retail Refinance"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R26-30410-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=26; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 212111 212091 212100 212101 212103 207701 212106 212107 212109)))
      ;;;  Entity: 509, 511, 523, 524, 528, 548, 572, 573, 576
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R26-30410-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id L1R1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Purchase - Jumbo Investor 6 & 7"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R27-30411-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=27; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | HMIP)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R27-30411-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Retail Construction"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R28-30412-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=28; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40281 213870 40128)))
      ;;;  Entity: 58N, U96, 500
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R28-30412-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1R1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "30 Day Lock - Retail Purchase - OFFSET - USE CU"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R29-30413-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=29; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R29-30413-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1R2
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "45 Day Lock - Retail Refinance - USE CU"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R30-30414-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 46)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216634)))
      ;;;  Category: Jumbo Investor
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R30-30414-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.3
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 80
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "60 Day Lock - CL Jumbo"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R31-30415-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=Production Release 20130828[8/28/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2441)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003 209938 209939) :exclude-flag t))
      ;;;  Category: Real Estate, Retail, Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R31-30415-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date "08/28/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R32-30416-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=32; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R32-30416-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1R1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R33-30417-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209938 209939)))
      ;;;  Category: Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R33-30417-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1R2
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail Refinance - USE CU"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R34-30418-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=Production Release 20130828[8/28/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2441)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003)))
      ;;;  Category: Real Estate, Retail
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216630 216631) :exclude-flag t))
      ;;;  Category: HARP FNMA, HARP FHLMC
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R34-30418-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date "08/28/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R35-30419-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=Production Release 20130828[8/28/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2441)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003)))
      ;;;  Category: Real Estate, Retail
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216630 216631)))
      ;;;  Category: HARP FNMA, HARP FHLMC
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R35-30419-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date "08/28/2013 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail HARP"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R36-30420-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=36; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001)))
      ;;;  Category: Real Estate
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40238)))
      ;;;  Entity: 971
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R36-30420-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 1
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - RE USDA 971"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R37-30421-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=37; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R37-30421-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "90 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R38-30422-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=38; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 76 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R38-30422-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "90 Day Lock - CL"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R39-30423-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=39; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal)
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R39-30423-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "120 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R40-30424-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=40; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045) :exclude-flag t))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R40-30424-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.625
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "120 Day Lock - CL"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R41-30425-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=41; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25045)))
      ;;;  Category: USAA
      
      (mbx:businesstier ?businesstier & CVI | CVII | WIII))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R41-30425-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "120 Day Lock - USAA"
      :template-id 30074
      :adjustment-type Passthrough
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R42-30426-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=42; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25004)))
      ;;;  Category: Banco Popular
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40097 40108)))
      ;;;  Entity: 188, 288
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R42-30426-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Banco Popular Invested 30 Day Lock NWC"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R43-30427-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=43; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 211765)))
      ;;;  Category: BankUnited
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CRFI | NRFI | STRA | STRN | VARR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40128 40133 40131 40103 40129 40281 40315 40334 40289 40290 40324 213320 213322)))
      ;;;  Entity: 500, 535, 520, 220, 510, 58N, 78N, 97N, 66M, 67M, 84M, 458, 459
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R43-30427-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9R2
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "BankUnited Invested 90 Day Lock Refi"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R44-30428-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=44; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R44-30428-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested Rate Protection Cap"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R45-30429-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=45; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R45-30429-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R46-30430-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=46; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 214326)))
      ;;;  Category: Barclays
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40128 40281 40288 40289 40290 40315 40324 40334 41100 41103)))
      ;;;  Entity: 220, 37N, 500, 58N, 65M, 66M, 67M, 78N, 84M, 97N, W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R46-30430-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Barclays Invested 60+ Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R47-30431-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=47; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40289 40315 40334)))
      ;;;  Entity: 220, 37N, 58N, 66M, 78N, 97N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R47-30431-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 0.0
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested - Base Commitment Rule"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R48-30432-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=48; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40289 40315 40334)))
      ;;;  Entity: 220, 37N, 58N, 66M, 78N, 97N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R48-30432-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj -0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested 45 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R49-30433-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=49; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40289 40315 40334)))
      ;;;  Entity: 220, 37N, 58N, 66M, 78N, 97N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R49-30433-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R50-30434-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=50; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 206133 206134)))
      ;;;  Category: Standard FI 339, Standard FI 340
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40103 40257 40281 40289 40315 40334)))
      ;;;  Entity: 220, 37N, 58N, 66M, 78N, 97N
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R50-30434-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Citizens Business Bank Invested 90 Day Lock WARNING"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R51-30435-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=51; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17429)))
      ;;;  Category: Comerica
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 206413)))
      ;;;  Category: Comerica
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R51-30435-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj -0.25
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Comerica Invested 30 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R52-30436-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=52; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17429)))
      ;;;  Category: Comerica
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & PUR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 206413)))
      ;;;  Category: Comerica
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R52-30436-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj -0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Comerica Invested 45 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R53-30437-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=53; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R53-30437-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs Rate Protection Cap"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R54-30438-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=54; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R54-30438-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R55-30439-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=55; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R55-30439-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R56-30440-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=56; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 41100 41103)))
      ;;;  Entity: W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R56-30440-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj 0.125
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 90 Day Lock W Pgm Margin Adj"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R57-30441-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=57; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R57-30441-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 120 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R58-30442-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=58; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 41100 41103)))
      ;;;  Entity: W1J, W6J
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R58-30442-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj 0.125
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 120 Day Lock W Pgm Margin Adj"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R59-30443-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=59; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 25022)))
      ;;;  Category: Goldman Sachs
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R59-30443-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 20.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Goldman Sachs 120 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R60-30444-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=60; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219367)))
      ;;;  Entity: Z59
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R60-30444-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Community Works - 15 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R61-30445-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=61; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 16 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219367)))
      ;;;  Entity: Z59
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R61-30445-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Community Works - 30 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R62-30446-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=62; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219367)))
      ;;;  Entity: Z59
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R62-30446-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Community Works - 45 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R63-30447-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=63; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 46 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219367)))
      ;;;  Entity: Z59
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R63-30447-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Community Works - 60 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R64-30448-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=64; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219367)))
      ;;;  Entity: Z59
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R64-30448-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Community Works - 90 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R65-30449-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=65; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219041 219042 219043 219044 219045 219046)))
      ;;;  Entity: Z49, Z50, Z51, Z52, Z53, Z54
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R65-30449-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - CRE - 30 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R66-30450-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=66; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219041 219042 219043 219044 219045 219046)))
      ;;;  Entity: Z49, Z50, Z51, Z52, Z53, Z54
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R66-30450-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - CRE - 60 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R67-30451-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=67; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=Production Release 20130918[9/18/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2454)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219041 219042 219043 219044 219045 219046)))
      ;;;  Entity: Z49, Z50, Z51, Z52, Z53, Z54
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R67-30451-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date "09/18/2013 09:30"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - CRE - 90 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R68-30452-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=68; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=Production Release 20130918[9/18/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2454)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219041 219042 219043 219044 219045 219046)))
      ;;;  Entity: Z49, Z50, Z51, Z52, Z53, Z54
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R68-30452-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date "09/18/2013 09:30"
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - CRE - 120 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R69-30453-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=69; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 15)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z10, Z11, Z12, Z13, Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R69-30453-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 15 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R70-30454-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=70; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 16 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z10, Z11, Z12, Z13, Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R70-30454-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 30 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R71-30455-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=71; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 45)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z10, Z11, Z12, Z13, Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R71-30455-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 45 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R72-30456-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=72; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 46 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z10, Z11, Z12, Z13, Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R72-30456-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 60 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R73-30457-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=73; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=Production Release 20130918[9/18/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2454)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R73-30457-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date "09/18/2013 09:30"
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 90 Day ARM"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R74-30458-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=74; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=Production Release 20130918[9/18/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2454)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870)))
      ;;;  Entity: Z10, Z11, Z12, Z13
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R74-30458-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date "09/18/2013 09:30"
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 90 Day Fixed"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R75-30459-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=75; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=Production Release 20130918[9/18/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2454)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R75-30459-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date "09/18/2013 09:30"
      :rate-adj nil
      :point-adj 0.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 120 Day ARM"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R76-30460-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=76; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=Production Release 20130918[9/18/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2454)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870)))
      ;;;  Entity: Z10, Z11, Z12, Z13
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R76-30460-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date "09/18/2013 09:30"
      :rate-adj nil
      :point-adj 0.625
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 120 Day Fixed"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R77-30461-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=77; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218869 218876 218884 218885 218886 218887 218888 218889 218890 218891 218892 218893 218894 218079 218080 218081 218082 218083 218084 218085 218086 218087 218088 218089 218090 218091 218092)))
      ;;;  Entity: Z22, Z23, Z24, Z25, Z26, Z27, Z28, Z29, Z30, Z31, Z32, Z33, Z34, Z35, Z36, Z37, Z38, Z39, Z40, Z41, Z42, Z43, Z44, Z45, Z46, Z47, Z48
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R77-30461-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - Private Banking - 60 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R78-30462-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=78; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 30)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R78-30462-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj -0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 30 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R79-30463-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=79; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 31 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R79-30463-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 60 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R80-30464-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=80; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R80-30464-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 90 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R81-30465-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=81; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 91 ?lockdays 120)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R81-30465-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 120 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R82-30466-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=82; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 121 ?lockdays 150)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R82-30466-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 1.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 150 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R83-30467-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=83; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 151 ?lockdays 180)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R83-30467-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 1.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 180 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R84-30468-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=84; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 181 ?lockdays 210)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R84-30468-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 1.875
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 210 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R85-30469-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=85; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 211 ?lockdays 240)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R85-30469-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 2.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 240 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R86-30470-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=86; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 241 ?lockdays 270)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R86-30470-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 2.625
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 270 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R87-30471-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=87; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 271 ?lockdays 300)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R87-30471-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 3.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 300 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R88-30472-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=88; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 301 ?lockdays 330)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R88-30472-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 3.375
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 330 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R89-30473-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=89; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose & CONP | CONR | HMIP | HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 331 ?lockdays 360)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R89-30473-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 3.75
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1R4
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - CTP Straight Lock 360 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R90-30474-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=90; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose &  ~ CONP &  ~ CONR &  ~ HMIP &  ~ HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 121 ?lockdays 180)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R90-30474-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 1.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - non-CTP Straight Lock 180 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R91-30475-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=91; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 209044 209045)))
      ;;;  Category: KeyBank 341, KeyBank 342
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose &  ~ CONP &  ~ CONR &  ~ HMIP &  ~ HMIR)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 181 ?lockdays 240)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R91-30475-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 1.5
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "KeyBank - non-CTP Straight Lock 240 Days"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R92-30476-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=92; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=Production Release 20130828[8/28/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2441)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215189)))
      ;;;  Category: Morgan Stanley
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40288 40289 40290 40103 40128 219269 219271)))
      ;;;  Entity: 65M, 66M, 67M, 220, 500, J80, J81
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R92-30476-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date "08/28/2013 09:30"
      :rate-adj 0.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Morgan Stanley non conf 0-60 Day Lock MA90L"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R93-30477-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=93; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=Production Release 20130828[8/28/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2441)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215189)))
      ;;;  Category: Morgan Stanley
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40288 40289 40290 40103 40128 219269 219271)))
      ;;;  Entity: 65M, 66M, 67M, 220, 500, J80, J81
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R93-30477-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date "08/28/2013 09:30"
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Morgan Stanley non conf 90 Day Lock MA90L"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R94-30478-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=94; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R94-30478-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 0.2
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested Rate Protection Cap"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R95-30479-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=95; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 1 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R95-30479-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.0
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 60 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43218-R96-30480-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=96; Status=Production; EffDate=Production Release 20130712[7/12/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2416 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 17427)))
      ;;;  Category: UBS
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 201940)))
      ;;;  Category: UBS
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43218-R96-30480-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "07/12/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "UBS Invested 90 Day Lock"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43336-R31-30481-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20130828[8/28/13 9:30 AM]; ExpDate=Production Release 20130906[9/6/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2442 ?time-slice TS2447)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003 17429 209938 209939) :exclude-flag t))
      ;;;  Category: Real Estate, Retail, Comerica, Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43336-R31-30481-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "08/28/2013 09:30"
      :adjustment-exp-date "09/06/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43336-R34-30482-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20130828[8/28/13 9:30 AM]; ExpDate=Production Release 20130906[9/6/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2442 ?time-slice TS2447)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003 17429)))
      ;;;  Category: Real Estate, Retail, Comerica
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216630 216631) :exclude-flag t))
      ;;;  Category: HARP FNMA, HARP FHLMC
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43336-R34-30482-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "08/28/2013 09:30"
      :adjustment-exp-date "09/06/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43336-R35-30483-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20130828[8/28/13 9:30 AM]; ExpDate=Production Release 20130906[9/6/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2442 ?time-slice TS2447)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003 17429)))
      ;;;  Category: Real Estate, Retail, Comerica
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216630 216631)))
      ;;;  Category: HARP FNMA, HARP FHLMC
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43336-R35-30483-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "08/28/2013 09:30"
      :adjustment-exp-date "09/06/2013 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail HARP"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43336-R92-30484-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=92; Status=Production; EffDate=Production Release 20130828[8/28/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2442 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215189)))
      ;;;  Category: Morgan Stanley
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 0 ?lockdays 60)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40288 40289 40290 40324 40257 40281 40315 40334 40103 40128 219269 219271)))
      ;;;  Entity: 65M, 66M, 67M, 84M, 37N, 58N, 78N, 97N, 220, 500, J80, J81
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43336-R92-30484-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "08/28/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 0.0
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind N
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Morgan Stanley non conf 0-60 Day Lock MA90L"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43336-R93-30485-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=93; Status=Production; EffDate=Production Release 20130828[8/28/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2442 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 215189)))
      ;;;  Category: Morgan Stanley
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 61)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 40288 40289 40290 40324 40257 40281 40315 40334 40103 40128 219269 219271)))
      ;;;  Entity: 65M, 66M, 67M, 84M, 37N, 58N, 78N, 97N, 220, 500, J80, J81
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43336-R93-30485-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "08/28/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj 0.125
      :point-adj nil
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "Morgan Stanley non conf 90 Day Lock MA90L"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43376-R31-30486-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=31; Status=Production; EffDate=Production Release 20130906[9/6/13 9:30 AM]; ExpDate=Production Release 20131004[10/4/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2448 ?time-slice TS2467)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003 17429 217147 209938 209939) :exclude-flag t))
      ;;;  Category: Real Estate, Retail, Comerica, HSBC, Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43376-R31-30486-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/06/2013 09:30"
      :adjustment-exp-date "10/04/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43376-R34-30487-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20130906[9/6/13 9:30 AM]; ExpDate=Production Release 20131004[10/4/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2448 ?time-slice TS2467)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003 17429 217147)))
      ;;;  Category: Real Estate, Retail, Comerica, HSBC
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216630 216631) :exclude-flag t))
      ;;;  Category: HARP FNMA, HARP FHLMC
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43376-R34-30487-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/06/2013 09:30"
      :adjustment-exp-date "10/04/2013 09:30"
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43376-R35-30488-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=35; Status=Production; EffDate=Production Release 20130906[9/6/13 9:30 AM]; ExpDate=Production Release 20131004[10/4/13 9:30 AM] for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2448 ?time-slice TS2467)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003 17429 217147)))
      ;;;  Category: Real Estate, Retail, Comerica, HSBC
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216630 216631)))
      ;;;  Category: HARP FNMA, HARP FHLMC
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43376-R35-30488-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/06/2013 09:30"
      :adjustment-exp-date "10/04/2013 09:30"
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail HARP"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43414-R67-30489-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=67; Status=Production; EffDate=Production Release 20130918[9/18/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2455 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219041 219042 219043 219044 219045 219046)))
      ;;;  Entity: Z49, Z50, Z51, Z52, Z53, Z54
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43414-R67-30489-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/18/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - CRE - 90 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43414-R68-30490-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=68; Status=Production; EffDate=Production Release 20130918[9/18/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2455 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 219041 219042 219043 219044 219045 219046)))
      ;;;  Entity: Z49, Z50, Z51, Z52, Z53, Z54
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43414-R68-30490-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/18/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - CRE - 120 Day"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43414-R73-30491-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=73; Status=Production; EffDate=Production Release 20130918[9/18/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2455 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43414-R73-30491-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/18/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 90 Day ARM"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43414-R74-30492-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=74; Status=Production; EffDate=Production Release 20130918[9/18/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2455 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 90)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870)))
      ;;;  Entity: Z10, Z11, Z12, Z13
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43414-R74-30492-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/18/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1L9
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 90 Day Fixed"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43414-R75-30493-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=75; Status=Production; EffDate=Production Release 20130918[9/18/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2455 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218871 218872 218873 218874 218875 218877 218878 218879 218880 218881 218882 218883)))
      ;;;  Entity: Z14, Z15, Z16, Z17, Z18, Z19, Z20, Z21, Z55, Z56, Z57, Z58
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43414-R75-30493-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/18/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 120 Day ARM"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43414-R76-30494-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=76; Status=Production; EffDate=Production Release 20130918[9/18/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2455 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 217147)))
      ;;;  Category: HSBC
      
      (mbx:businesstier ?businesstier))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(>= ?lockdays 91)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :entity (build$ 218866 218867 218868 218870)))
      ;;;  Entity: Z10, Z11, Z12, Z13
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43414-R76-30494-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "09/18/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 40
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item nil
      :rule-name "HSBC - PremierDeluxe - 120 Day Fixed"
      :template-id 30074
      :adjustment-type Invested
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43474-R30-30495-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=30; Status=Production; EffDate=Production Release 20131004[10/4/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2468 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003 25004 17429 217147 209938 209939) :exclude-flag t))
      ;;;  Category: Real Estate, Retail, Banco Popular, Comerica, HSBC, Standard FI 345, Standard FI 346
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal))
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43474-R30-30495-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/04/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43474-R33-30496-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=33; Status=Production; EffDate=Production Release 20131004[10/4/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2468 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003 25004 17429 217147)))
      ;;;  Category: Real Estate, Retail, Banco Popular, Comerica, HSBC
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216630 216631) :exclude-flag t))
      ;;;  Category: HARP FNMA, HARP FHLMC
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43474-R33-30496-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/04/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.25
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


(define-rule GuidelineRule-43474-R34-30497-D06-12-2013-T06-43-41 "PSS_Commitment Adjustments; RowNum=34; Status=Production; EffDate=Production Release 20131004[10/4/13 9:30 AM]; ExpDate=null for template 30074"

   (object ?current-phase
      (instance-of pa:current-phase)
      (pa:focus-of-attention PRC-POST-ADJUSTMENTS)
      (pa:current-time-slice ?time-slice &:(<= TS2468 ?time-slice TS2509)))
   
   (object ?mms-mb-request
      (instance-of mms:mb_request)
      (mbx:internalClientID ?clientidinternal &:(pe:entity-match :type clienthierarchy :id ?clientidinternal :time-slice ?time-slice :category (build$ 24001 24003 25004 17429 217147)))
      ;;;  Category: Real Estate, Retail, Banco Popular, Comerica, HSBC
      
      (mbx:businesstier ?businesstier & RI | RII | RIV))
   
   (object ?mms-loan-supplement
      (instance-of mms:loan_supplement)
      (mms:loanpurpose ?loanpurpose)
      (mbx:Deliverytype ?deliverytype)
      (mbx:lockoption ?lockoption & RPRT | LOCK)
      (mms:totalloanamount ?totalloanamount)
      (mbx:CallingSystem ?callingsystem)
      (mms:baseloanamount ?baseloanamount))
   
   (object ?mbx-property
      (instance-of mbx:property)
      (mbx:prepurchaseindicator ?prepurchaseindicator)
      (mbx:propertytype ?propertytype)
      (mbx:InternalGeographyId ?internalgeographyid))
   
   (object ?mbx-commitment-period
      (instance-of mbx:commitment_period)
      (mbx:program ?program)
      (mbx:is-extn-period ?isextnperiod)
      (mbx:commitment-period ?lockdays &:(<= 61 ?lockdays 75)))
   
   (object ?mbx-product
      (instance-of MBX:Product)
      (mbx:program ?program)
      (MBX:Internal-Product-Id ?productcodeinternal &:(pe:entity-match :type product :id ?productcodeinternal :time-slice ?time-slice :category (build$ 216630 216631)))
      ;;;  Category: HARP FNMA, HARP FHLMC
      )
   
   (object ?mms-pricing
      (instance-of mms:pricing)
      (mbx:discountprogramcode ?discountprogramcode))
   
   (object ?mbx-borrower
      (instance-of mbx:borrower)
      (mbx:employmentborrowerselfemployedindicator ?employmentborrowerselfemployedindicator))
   
   (object ?mbx-special-codes
      (instance-of mbx:special_codes)
      (mbx:SpecialCode ?specialcode))
   
=>
   (pe-action
      :message (sprintf "Applying Commitment Pricing Adjustment.")
      :function-name commitment-period-extn-adj
      :product ?mbx-product
      :commitment-period ?mbx-commitment-period
      :container-object ?mbx-commitment-period
      :rule-handle GuidelineRule-43474-R34-30497-D06-12-2013-T06-43-41
      :template-id 30074
      :adjustment-eff-date "10/04/2013 09:30"
      :adjustment-exp-date nil
      :rate-adj nil
      :point-adj 0.125
      :fixed-dollar nil
      :arm-margin-adj nil
      :lender-credit-dollar nil
      :lender-credit-point nil
      :rank 0
      :rate-sheet-id L1
      :display-ind Y
      :rounding-ind N
      :timely-rewards-ind N
      :pl-line-item "Lock_Period_Adjustment"
      :rule-name "75 Day Lock - Retail HARP"
      :template-id 30074
      :adjustment-type Strategic
      :adjustment-sub-type nil
      :discount-pgm-code nil
      :is-cumulative Y)
)


